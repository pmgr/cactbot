(()=>{"use strict";var __webpack_modules__={436:(e,t,a)=>{a.d(t,{Z:()=>n});const n=(()=>{const e=["GLA","PLD","MRD","WAR","DRK","GNB"],t=["CNJ","WHM","SCH","AST"],a=["PGL","MNK","LNC","DRG","ROG","NIN","SAM"],n=["ARC","BRD","DNC","MCH"],i=["BLU","RDM","BLM","SMN","ACN","THM"],r=[...a,...n,...i],s=["CRP","BSM","ARM","GSM","LTW","WVR","ALC","CUL"],o=["MIN","BTN","FSH"],l=["BLU",...e,...a],d=["BLU",...e,...n],c=["BLM","BLU",...t],u=[...a],h=[...i],p=["BLU","BRD",...t],g=["tank","healer","dps","crafter","gatherer","none"],m={0:"NONE",1:"GLA",2:"PGL",3:"MRD",4:"LNC",5:"ARC",6:"CNJ",7:"THM",8:"CRP",9:"BSM",10:"ARM",11:"GSM",12:"LTW",13:"WVR",14:"ALC",15:"CUL",16:"MIN",17:"BTN",18:"FSH",19:"PLD",20:"MNK",21:"WAR",22:"DRG",23:"BRD",24:"WHM",25:"BLM",26:"ACN",27:"SMN",28:"SCH",29:"ROG",30:"NIN",31:"MCH",32:"DRK",33:"AST",34:"SAM",35:"RDM",36:"BLU",37:"GNB",38:"DNC"},f=(()=>{const a=(e,t,a)=>t.forEach((t=>e.set(t,a))),n=new Map([["NONE","none"]]);return a(n,e,"tank"),a(n,t,"healer"),a(n,r,"dps"),a(n,s,"crafter"),a(n,o,"gatherer"),new Proxy(n,{get:function(e,t){return e.has(t)?e.get(t):(console.log(`Unknown job role ${t}`),"")}})})();return{jobEnumToJob:e=>m[e],jobToJobEnum:e=>Object.keys(m).find((t=>m[t]===e)),jobToRole:e=>f[e],getAllRoles:()=>g,isTankJob:t=>e.includes(t),isHealerJob:e=>t.includes(e),isMeleeDpsJob:e=>a.includes(e),isRangedDpsJob:e=>n.includes(e),isCasterDpsJob:e=>i.includes(e),isDpsJob:e=>r.includes(e),isCraftingJob:e=>s.includes(e),isGatheringJob:e=>o.includes(e),isCombatJob:function(e){return!this.isCraftingJob(e)&&!this.isGatheringJob(e)},canStun:e=>l.includes(e),canSilence:e=>d.includes(e),canSleep:e=>c.includes(e),canCleanse:e=>p.includes(e),canFeint:e=>u.includes(e),canAddle:e=>h.includes(e)}})();!function(){if("undefined"==typeof location)return;const e=/[\?&]OVERLAY_WS=([^&]+)/.exec(location.href);let t=null,a=[],n=0;const i={},r={};let s=null;if(e){s=e=>{a?a.push(e):t.send(JSON.stringify(e))};const n=function(){t=new WebSocket(e[1]),t.addEventListener("error",(e=>{console.error(e)})),t.addEventListener("open",(()=>{console.log("Connected!");const e=a;a=null,s({call:"subscribe",events:Object.keys(r)});for(const t of e)s(t)})),t.addEventListener("message",(e=>{try{e=JSON.parse(e.data)}catch(t){return void console.error("Invalid message received: ",e)}void 0!==e.rseq&&i[e.rseq]?(i[e.rseq](e),delete i[e.rseq]):o(e)})),t.addEventListener("close",(()=>{a=[],console.log("Trying to reconnect..."),setTimeout((()=>{n()}),300)}))};n()}else{s=(e,t)=>{a?a.push([e,t]):OverlayPluginApi.callHandler(JSON.stringify(e),t)};const e=function(){if(!window.OverlayPluginApi||!window.OverlayPluginApi.ready)return void setTimeout(e,300);const t=a;a=null,window.__OverlayCallback=o,s({call:"subscribe",events:Object.keys(r)},null);for(const[e,a]of t)s(e,a)};e()}function o(e){if(r[e.type])for(const t of r[e.type])t(e)}window.dispatchOverlayEvent=o,window.addOverlayListener=(e,t)=>{r[e]||(r[e]=[],a||s({call:"subscribe",events:[e]})),r[e].push(t)},window.removeOverlayListener=(e,t)=>{if(r[e]){const a=r[e],n=a.indexOf(t);n>-1&&a.splice(n,1)}},window.callOverlayHandler=e=>{let a;return t?(e.rseq=n++,a=new Promise(((t,a)=>{i[e.rseq]=t})),s(e)):a=new Promise((t=>{s(e,(e=>{t(null===e?null:JSON.parse(e))}))})),a}}()},85:(e,t,a)=>{a.d(t,{Z:()=>n});class n{static targetIsYou(){return(e,t)=>e.me===t.target}static targetIsNotYou(){return(e,t)=>e.me!==t.target}static caresAboutAOE(){return e=>"tank"===e.role||"healer"===e.role||e.CanAddle()||"BLU"===e.job}static caresAboutMagical(){return e=>"tank"===e.role||"healer"===e.role||e.CanAddle()||"BLU"===e.job}static caresAboutPhysical(){return e=>"tank"===e.role||"healer"===e.role||e.CanFeint()||"BLU"===e.job}}},578:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(200);const i=(e,t,a)=>{void 0===e&&(e={});const i=[];for(const e of Object.values(a))"object"==typeof e&&i.push(e.field);n.Z.validateParams(e,t,["capture",...i]);const r=n.Z.trueIfUndefined(e.capture),s=Object.keys(a);let o;if(r)o=s[s.length-1];else{o=0;for(const t of s)"object"==typeof a[t]&&a[t].field in e&&(o=t)}let l="^",d=-1;for(let i in a){i=parseInt(i);const s=i-d-1;1===s?l+="\\y{NetField}":s>1&&(l+="\\y{NetField}{"+s+"}"),d=i;const c=a[i];if("object"!=typeof c)throw new Error(`${t}: invalid value: ${JSON.stringify(c)}`);const u=a[i].field,h="value"in a[i]?a[i].value.toString():"[^|]*";if(l+=u?n.Z.maybeCapture(r,u,e[u],h)+"\\|":h+"\\|",i>=o)break}return n.Z.parse(l)};class r{static startsUsing(e){return i(e,"startsUsing",{0:{field:"type",value:"20"},1:{field:"timestamp"},2:{field:"sourceId"},3:{field:"source"},4:{field:"id"},5:{field:"ability"},6:{field:"targetId"},7:{field:"target"},8:{field:"castTime"}})}static ability(e){return i(e,"ability",{0:{field:"type",value:"2[12]"},1:{field:"timestamp"},2:{field:"sourceId"},3:{field:"source"},4:{field:"id"},5:{field:"ability"},6:{field:"targetId"},7:{field:"target"}})}static abilityFull(e){return i(e,"abilityFull",{0:{field:"type",value:"2[12]"},1:{field:"timestamp"},2:{field:"sourceId"},3:{field:"source"},4:{field:"id"},5:{field:"ability"},6:{field:"targetId"},7:{field:"target"},8:{field:"flags"},9:{field:"damage"},24:{field:"targetCurrentHp"},25:{field:"targetMaxHp"},40:{field:"x"},41:{field:"y"},42:{field:"z"},43:{field:"heading"}})}static headMarker(e){return i(e,"headMarker",{0:{field:"type",value:"27"},1:{field:"timestamp"},2:{field:"targetId"},3:{field:"target"},6:{field:"id"}})}static addedCombatant(e){return i(e,"addedCombatant",{0:{field:"type",value:"03"},1:{field:"timestamp"},2:{field:"id"},3:{field:"name"}})}static addedCombatantFull(e){return i(e,"addedCombatantFull",{0:{field:"type",value:"03"},1:{field:"timestamp"},2:{field:"id"},3:{field:"name"},4:{field:"job"},5:{field:"level"},6:{field:"ownerId"},8:{field:"world"},9:{field:"npcNameId"},10:{field:"npcBaseId"},11:{field:"currentHp"},12:{field:"hp"},17:{field:"x"},18:{field:"y"},19:{field:"z"},20:{field:"heading"}})}static removingCombatant(e){return i(e,"removingCombatant",{0:{field:"type",value:"04"},1:{field:"timestamp"},2:{field:"id"},3:{field:"name"},12:{field:"hp"}})}static gainsEffect(e){return i(e,"gainsEffect",{0:{field:"type",value:"26"},1:{field:"timestamp"},2:{field:"effectId"},3:{field:"effect"},4:{field:"duration"},5:{field:"sourceId"},6:{field:"source"},7:{field:"targetId"},8:{field:"target"},9:{field:"count"}})}static statusEffectExplicit(e){return i(e,"statusEffectExplicit",{0:{field:"type",value:"38"},1:{field:"timestamp"},2:{field:"targetId"},3:{field:"target"},5:{field:"hp"},6:{field:"maxHp"},11:{field:"x"},12:{field:"y"},13:{field:"z"},14:{field:"heading"},15:{field:"data0"},16:{field:"data1"},17:{field:"data2"},18:{field:"data3"},19:{field:"data4"}})}static losesEffect(e){return i(e,"losesEffect",{0:{field:"type",value:"30"},1:{field:"timestamp"},2:{field:"effectId"},3:{field:"effect"},5:{field:"sourceId"},6:{field:"source"},7:{field:"targetId"},8:{field:"target"},9:{field:"count"}})}static tether(e){return i(e,"tether",{0:{field:"type",value:"35"},1:{field:"timestamp"},2:{field:"sourceId"},3:{field:"source"},4:{field:"targetId"},5:{field:"target"},8:{field:"id"}})}static wasDefeated(e){return i(e,"wasDefeated",{0:{field:"type",value:"25"},1:{field:"timestamp"},2:{field:"targetId"},3:{field:"target"},4:{field:"sourceId"},5:{field:"source"}})}static echo(e){return void 0===e&&(e={}),n.Z.validateParams(e,"echo",["type","timestamp","code","name","line","capture"]),e.code="0038",r.gameLog(e)}static dialog(e){return void 0===e&&(e={}),n.Z.validateParams(e,"dialog",["type","timestamp","code","name","line","capture"]),e.code="0044",r.gameLog(e)}static message(e){return void 0===e&&(e={}),n.Z.validateParams(e,"message",["type","timestamp","code","name","line","capture"]),e.code="0839",r.gameLog(e)}static gameLog(e){return i(e,"gameLog",{0:{field:"type",value:"00"},1:{field:"timestamp"},2:{field:"code"},3:{field:"name"},4:{field:"line"}})}static gameNameLog(e){return r.gameLog(e)}static statChange(e){return i(e,"statChange",{0:{field:"type",value:"12"},1:{field:"timestamp"},2:{field:"job"},3:{field:"strength"},4:{field:"dexterity"},5:{field:"vitality"},6:{field:"intelligence"},7:{field:"mind"},8:{field:"piety"},9:{field:"attackPower"},10:{field:"directHit"},11:{field:"criticalHit"},12:{field:"attackMagicPotency"},13:{field:"healMagicPotency"},14:{field:"determination"},15:{field:"skillSpeed"},16:{field:"spellSpeed"},18:{field:"tenacity"}})}static changeZone(e){return i(e,"changeZone",{0:{field:"type",value:"01"},1:{field:"timestamp"},2:{field:"id"},3:{field:"name"}})}static network6d(e){return i(e,"network6d",{0:{field:"type",value:"33"},1:{field:"timestamp"},2:{field:"instance"},3:{field:"command"},4:{field:"data0"},5:{field:"data1"},6:{field:"data2"},7:{field:"data3"}})}}},571:(e,t,a)=>{a.d(t,{Z:()=>i});const n=e=>{const t=e.toString();return{en:t,de:t,fr:t,ja:t,cn:t,ko:t}},i=new class{constructor(e){if(this.obj=e,"toJSON"in e)throw new Error("Cannot have toJSON property.");return new Proxy(this,{set(e,t,a){throw new Error("Cannot set readonly object.")},get(t,a){if("toJSON"===a)return JSON.stringify(e);if(a in t.obj)return t.obj[a];throw new Error(`Unknown property ${a}`)}})}}({aoe:{en:"aoe",de:"AoE",fr:"AoE",ja:"AoE",cn:"AoE",ko:"Ï†ÑÏ≤¥ Í≥µÍ≤©"},bigAoe:{en:"big aoe!",de:"Gro√üe AoE!",fr:"Grosse AoE !",ja:"Â§ß„ÉÄ„É°„Éº„Ç∏AoE",cn:"Â§ßAoE‰º§ÂÆ≥ÔºÅ",ko:"Í∞ïÌïú Ï†ÑÏ≤¥ Í≥µÍ≤©!"},tankBuster:{en:"Tank Buster",de:"Tank buster",fr:"Tank buster",ja:"„Çø„É≥„ÇØ„Éê„Çπ„Çø„Éº",cn:"Âù¶ÂÖãÊ≠ªÂàë",ko:"ÌÉ±Î≤Ñ"},miniBuster:{en:"Mini Buster",de:"Kleiner Tankbuster",fr:"Mini Buster",ja:"„Éü„Éã„Éê„Çπ„Çø„Éº",cn:"Â∞èÊ≠ªÂàë",ko:"ÏïΩÌïú ÌÉ±Î≤Ñ"},tankBusterOnPlayer:{en:"Tank Buster on ${player}",de:"Tank buster auf ${player}",fr:"Tank buster sur ${player}",ja:"${player}„Å´„Çø„É≥„ÇØ„Éê„Çπ„Çø„Éº",cn:"Ê≠ªÂàë ÁÇπ ${player}",ko:'"${player}" ÌÉ±Î≤Ñ'},tankBusterOnYou:{en:"Tank Buster on YOU",de:"Tank buster auf DIR",fr:"Tank buster sur VOUS",ja:"Ëá™ÂàÜ„Å´„Çø„É≥„ÇØ„Éê„Çπ„Çø„Éº",cn:"Ê≠ªÂàëÁÇπÂêç",ko:"ÌÉ±Î≤Ñ ÎåÄÏÉÅÏûê"},tankBusters:{en:"Tank Busters",de:"Tank buster",fr:"Tank busters",ja:"„Çø„É≥„ÇØ„Éê„Çπ„Çø„Éº",cn:"Âù¶ÂÖãÊ≠ªÂàë",ko:"ÌÉ±Î≤Ñ"},tankCleave:{en:"Tank cleave",de:"Tank Cleave",fr:"Tank cleave",ja:"ÂâçÊñπÁØÑÂõ≤ÊîªÊíÉ",cn:"È°∫Âäà",ko:"Í¥ëÏó≠ ÌÉ±Î≤Ñ"},avoidTankCleave:{en:"Avoid tank cleave",de:"Tank Cleave ausweichen",fr:"√âvitez le tank cleave",ja:"ÂâçÊñπÁØÑÂõ≤ÊîªÊíÉ„ÇíÈÅø„Åë„Çã",cn:"ËøúÁ¶ªÈ°∫Âäà",ko:"Í¥ëÏó≠ ÌÉ±Î≤Ñ ÌîºÌïòÍ∏∞"},tankCleaveOnYou:{en:"Tank cleave on YOU",de:"Tank Cleave aud DIR",fr:"Tank cleave sur VOUS",ja:"Ëá™ÂàÜ„Å´ÂâçÊñπÁØÑÂõ≤ÊîªÊíÉ",cn:"È°∫ÂäàÁÇπÂêç",ko:"ÎÇòÏóêÍ≤å Í¥ëÏó≠ ÌÉ±Î≤Ñ"},tankSwap:{en:"Tank Swap!",de:"Tankwechsel!",fr:"Tank swap !",ja:"„Çø„É≥„ÇØ„Çπ„Ç§„ÉÉ„ÉÅ!",cn:"Êç¢TÔºÅ",ko:"ÌÉ± ÍµêÎåÄ"},spread:{en:"Spread",de:"Verteilen",fr:"Dispersez-vous",ja:"Êï£Èñã",cn:"ÂàÜÊï£",ko:"ÏÇ∞Í∞ú"},stackMarker:{en:"Stack",de:"Sammeln",fr:"Packez-vous",ja:"È†≠Ââ≤„Çä",cn:"ÂàÜÊëä",ko:"ÏâêÏñ¥ÎéÄ"},getTogether:{en:"Stack",de:"Sammeln",fr:"Packez-vous",ja:"ÈõÜÂêà",cn:"ÈõÜÂêà",ko:"ÏâêÏñ¥ÎéÄ"},stackOnYou:{en:"Stack on YOU",de:"Auf DIR sammeln",fr:"Package sur VOUS",ja:"Ëá™ÂàÜ„Å´ÈõÜÂêà",cn:"ÈõÜÂêàÁÇπÂêç",ko:"ÏâêÏñ¥Ïßï ÎåÄÏÉÅÏûê"},stackOnPlayer:{en:"Stack on ${player}",de:"Auf ${player} sammeln",fr:"Packez-vous sur ${player}",ja:"${player}„Å´ÈõÜÂêà",cn:"Èù†Ëøë ${player}ÈõÜÂêà",ko:'"${player}" ÏâêÏñ¥Ïßï'},stackMiddle:{en:"Stack in middle",de:"In der Mitte sammeln",fr:"Packez-vous au milieu",ja:"‰∏≠Â§Æ„ÅßÈõÜÂêà",cn:"‰∏≠Èó¥ÈõÜÂêà",ko:"Ï§ëÏïôÏóêÏÑú Î™®Ïù¥Í∏∞"},doritoStack:{en:"Dorito Stack",de:"Mit Marker sammeln",fr:"Packez les marquages",ja:"„Éû„Éº„Ç´„Éº‰ªò„Åë„Åü‰∫∫„Å®ÈõÜÂêà",cn:"ÁÇπÂêçÈõÜÂêà",ko:"ÏßïÎÅºÎ¶¨ Î™®Ïù¥Í∏∞"},spreadThenStack:{en:"Spread => Stack",de:"Verteilen => Sammeln",fr:"Dispersion => Package",ja:"Êï£Èñã => ÈõÜÂêà",cn:"ÂàÜÊï£ => ÈõÜÂêà",ko:"ÏÇ∞Í∞ú => ÏßëÌï©"},stackThenSpread:{en:"Stack => Spread",de:"Sammeln => Verteilen",fr:"Package => Dispersion",ja:"„Çπ„Çø„ÉÉ„ÇØ => Êï£Èñã",cn:"ÈõÜÂêà => ÂàÜÊï£",ko:"ÏßëÌï© => ÏÇ∞Í∞ú"},knockback:{en:"Knockback",de:"R√ºcksto√ü",fr:"Pouss√©e",ja:"„Éé„ÉÉ„ÇØ„Éê„ÉÉ„ÇØ",cn:"ÂáªÈÄÄ",ko:"ÎÑâÎ∞±"},knockbackOnYou:{en:"Knockback on YOU",de:"R√ºcksto√ü auf DIR",fr:"Pouss√©e sur VOUS",ja:"Ëá™ÂàÜ„Å´„Éé„ÉÉ„ÇØ„Éê„ÉÉ„ÇØ",cn:"ÂáªÈÄÄÁÇπÂêç",ko:"ÎÑâÎ∞±Ïßï ÎåÄÏÉÅÏûê"},knockbackOnPlayer:{en:"Knockback on ${player}",de:"R√ºcksto√ü auf ${player}",fr:"Pouss√©e sur ${player}",ja:"${player}„Å´„Éé„ÉÉ„ÇØ„Éê„ÉÉ„ÇØ",cn:"ÂáªÈÄÄÁÇπÂêç${player}",ko:'"${player}" ÎÑâÎ∞±Ïßï'},lookTowardsBoss:{en:"Look Towards Boss",de:"Anschauen Boss",fr:"Regardez le boss",ja:"„Éú„Çπ„ÇíË¶ã„Çã",cn:"Èù¢ÂêëBoss",ko:"Ï≥êÎã§Î≥¥Í∏∞"},lookAway:{en:"Look Away",de:"Wegschauen",fr:"Regardez ailleurs",ja:"„Éú„Çπ„ÇíË¶ã„Å™„ÅÑ",cn:"ËÉåÂØπBoss",ko:"Îí§ÎèåÍ∏∞"},lookAwayFromPlayer:{en:"Look Away from ${player}",de:"Schau weg von ${player}",fr:"Ne regardez pas ${player}",ja:"${player}„ÇíË¶ã„Å™„ÅÑ",cn:"ËÉåÂØπ${player}",ko:"${player}ÏóêÍ≤åÏÑú Îí§ÎèåÍ∏∞"},lookAwayFromTarget:{en:"Look Away from ${name}",de:"Schau weg von ${name}",fr:"Ne regardez pas ${name}",ja:"${name}„ÇíË¶ã„Å™„ÅÑ",cn:"ËÉåÂØπ${name}",ko:"${name}ÏóêÍ≤åÏÑú Îí§ÎèåÍ∏∞"},getBehind:{en:"Get Behind",de:"Hinter ihn",fr:"Passez derri√®re",ja:"ËÉåÈù¢„Å∏",cn:"ÂéªËÉåÂêé",ko:"Î≥¥Ïä§ Îí§Î°ú"},goFrontOrSides:{en:"Go Front / Sides",de:"Gehe nach Vorne/ zu den Seiten",fr:"Allez Devant / C√¥t√©s",ja:"ÂâçÔºèÊ®™„Å∏",cn:"ÂéªÂâç‰æßÊñπ",ko:"Î≥¥Ïä§ ÌõÑÎ∞© ÌîºÌïòÍ∏∞"},goFront:{en:"Go Front",de:"Geh nach vorn",fr:"Allez Devant",ja:"Ââç„Å∏",cn:"ÂéªÂâçÈù¢",ko:"ÏïûÏúºÎ°ú"},getUnder:{en:"Get Under",de:"Unter ihn",fr:"En dessous",ja:"„Éú„Çπ„Å´Ë≤º„Çä‰ªò„Åè",cn:"ÂéªËÑö‰∏ã",ko:"Î≥¥Ïä§ ÏïÑÎûòÎ°ú"},in:{en:"In",de:"Rein",fr:"Int√©rieur",ja:"‰∏≠„Å∏",cn:"Èù†Ëøë",ko:"ÏïàÏúºÎ°ú"},out:{en:"Out",de:"Raus",fr:"Exterieur",ja:"Â§ñ„Å∏",cn:"ËøúÁ¶ª",ko:"Î∞ñÏúºÎ°ú"},outOfMelee:{en:"Out of melee",de:"Raus aus Nahkampf",fr:"Hors de la m√™l√©e",ja:"ËøëÊé•ÊúÄÂ§ß„É¨„É≥„Ç∏",cn:"ËøëÊàòÊúÄËøúË∑ùÁ¶ªÂõûÈÅø",ko:"Í∑ºÏ†ëÎ≤îÏúÑ Î∞ñÏúºÎ°ú"},inThenOut:{en:"In, then out",de:"Rein, dann raus",fr:"Int√©rieur, puis ext√©rieur",ja:"‰∏≠ => Â§ñ",cn:"ÂÖàÈù†ËøëÔºåÂÜçËøúÁ¶ª",ko:"ÏïàÏúºÎ°ú => Î∞ñÏúºÎ°ú"},outThenIn:{en:"Out, then in",de:"Raus, dann rein",fr:"Ext√©rieur, puis int√©rieur",ja:"Â§ñ => ‰∏≠",cn:"ÂÖàËøúÁ¶ªÔºåÂÜçÈù†Ëøë",ko:"Î∞ñÏúºÎ°ú => ÏïàÏúºÎ°ú"},backThenFront:{en:"Back Then Front",de:"Nach Hinten, danach nach Vorne",fr:"Derri√®re puis devant",ja:"Âæå„Çç => Ââç",cn:"Âêé => Ââç",ko:"Îí§Î°ú => ÏïûÏúºÎ°ú"},frontThenBack:{en:"Front Then Back",de:"Nach Vorne, danach nach Hinten",fr:"Devant puis derri√®re",ja:"Ââç => Âæå„Çç",cn:"Ââç => Âêé",ko:"ÏïûÏúºÎ°ú => Îí§Î°ú"},goIntoMiddle:{en:"go into middle",de:"in die Mitte gehen",fr:"Allez au milieu",ja:"‰∏≠„Å∏",cn:"Âéª‰∏≠Èó¥",ko:"Ï§ëÏïôÏúºÎ°ú"},right:{en:"Right",de:"Rechts",fr:"Droite ",ja:"Âè≥„Å∏",cn:"Âè≥",ko:"Ïò§Î•∏Ï™Ω"},left:{en:"Left",de:"Links",fr:"Gauche",ja:"Â∑¶„Å∏",cn:"Â∑¶",ko:"ÏôºÏ™Ω"},getLeftAndWest:{en:"<= Get Left/West",de:"<= Nach Links/Westen",fr:"<= Allez √† Gauche/Ouest",ja:"<= Â∑¶/Ë•ø„Å∏",cn:"<= ÂéªÂ∑¶/Ë•øËæπ",ko:"<= ÏôºÏ™ΩÏúºÎ°ú"},getRightAndEast:{en:"Get Right/East =>",de:"Nach Rechts/Osten =>",fr:"Allez √† Droite/Est =>",ja:"Âè≥/Êù±„Å∏ =>",cn:"ÂéªÂè≥/‰∏úËæπ =>",ko:"Ïò§Î•∏Ï™ΩÏúºÎ°ú =>"},goFrontBack:{en:"Go Front/Back",de:"Geh nach Vorne/Hinten",fr:"Allez Devant/Derri√®re",ja:"Á∏¶„Å∏",cn:"ÂéªÂâçÂêé",ko:"Ïïû/Îí§Î°ú"},sides:{en:"Sides",de:"Seiten",fr:"C√¥t√©s",ja:"Ê®™„Å∏",cn:"Âéª‰æßÈù¢",ko:"ÏñëÏòÜÏúºÎ°ú"},middle:{en:"Middle",de:"Mitte",fr:"Milieu",ja:"‰∏≠„Å∏",cn:"‰∏≠Èó¥",ko:"Ï§ëÏïô"},killAdds:{en:"Kill adds",de:"Adds besiegen",fr:"Tuez les adds",ja:"ÈõëÈ≠ö„ÇíÂá¶ÁêÜ",cn:"ÂáªÊùÄÂ∞èÊÄ™",ko:"Ï´Ñ Ïû°Í∏∞"},killExtraAdd:{en:"Kill Extra Add",de:"Add besiegen",fr:"Tuez l'add",ja:"ÈõëÈ≠ö„ÇíÂÄí„Åô",cn:"ÂáªÊùÄÂ∞èÊÄ™",ko:"Ï´Ñ Ïû°Í∏∞"},awayFromFront:{en:"Away From Front",de:"Weg von Vorne",fr:"√âloignez-vous du devant",ja:"ÂâçÊñπ„Åã„ÇâÈõ¢„Çå„Çã",cn:"ËøúÁ¶ªÊ≠£Èù¢",ko:"Î≥¥Ïä§ Ï†ÑÎ∞© ÌîºÌïòÍ∏∞"},sleepTarget:{en:"Sleep ${name}",de:"Schlaf auf ${name}",fr:"Sommeil sur ${name}",ja:"${name} „Å´„Çπ„É™„Éó„É´",cn:"ÂÇ¨Áú† ${name}",ko:"${name} Ïä¨Î¶¨Ìîå"},stunTarget:{en:"Stun ${name}",de:"Bet√§ubung auf ${name}",fr:"√âtourdissement sur ${name}",ja:"${name} „Å´„Çπ„Çø„É≥",cn:"Áú©Êôï ${name}",ko:"${name}Í∏∞Ï†à"},interruptTarget:{en:"interrupt ${name}",de:"unterbreche ${name}",fr:"Interrompez ${name}",ja:"${name} „Å´Ê≤àÈªô",cn:"ÊâìÊñ≠${name}",ko:"${name}Í∏∞Ïà† ÏãúÏ†Ñ ÎÅäÍ∏∞"},preyOnYou:{en:"Prey on YOU",de:"Marker auf DIR",fr:"Marquage sur VOUS",ja:"Ëá™ÂàÜ„Å´ÊçïÈ£ü",cn:"Êé†È£üÁÇπÂêç",ko:"ÌôçÏò•Ïßï ÎåÄÏÉÅÏûê"},preyOnPlayer:{en:"Prey on ${player}",de:"Marker auf ${player}",fr:"Marquage sur ${player}",ja:"${player}„Å´ÊçïÈ£ü",cn:"Êé†È£üÁÇπÂêç${player}",ko:'"${player}" ÌôçÏò•Ïßï'},awayFromGroup:{en:"Away from Group",de:"Weg von der Gruppe",fr:"√âloignez-vous du groupe",ja:"Â§ñ„Å∏",cn:"ËøúÁ¶ª‰∫∫Áæ§",ko:"Îã§Î•∏ ÏÇ¨ÎûåÎì§Ïù¥Îûë Îñ®Ïñ¥ÏßÄÍ∏∞"},awayFromPlayer:{en:"Away from ${player}",de:"Weg von ${player}",fr:"√âloignez-vous de ${player}",ja:"${player}„Åã„ÇâÈõ¢„Çå„Çã",cn:"ËøúÁ¶ª${player}",ko:'"${player}"ÏóêÏÑú Î©ÄÏñ¥ÏßÄÍ∏∞'},meteorOnYou:{en:"Meteor on YOU",de:"Meteor auf DIR",fr:"M√©t√©ore sur VOUS",ja:"Ëá™ÂàÜ„Å´„É°„ÉÜ„Ç™",cn:"Èô®Áü≥ÁÇπÂêç",ko:"ÎÇòÏóêÍ≤å Î©îÌÖåÏò§Ïßï"},stopMoving:{en:"Stop Moving!",de:"Bewegung stoppen!",fr:"Ne bougez pas !",ja:"ÁßªÂãïÁ¶ÅÊ≠¢ÔºÅ",cn:"ÂÅúÊ≠¢ÁßªÂä®ÔºÅ",ko:"Ïù¥Îèô Î©àÏ∂îÍ∏∞!"},stopEverything:{en:"Stop Everything!",de:"Stoppe Alles!",fr:"Arr√™tez TOUT !",ja:"Ë°åÂãïÁ¶ÅÊ≠¢ÔºÅ",cn:"ÂÅúÊ≠¢Ë°åÂä®ÔºÅ",ko:"ÌñâÎèô Î©àÏ∂îÍ∏∞!"},moveAway:{en:"Move!",de:"Bewegen!",fr:"Bougez !",ja:"ÈÅø„Åë„Å¶ÔºÅ",cn:"Âø´Ë∫≤ÂºÄÔºÅ",ko:"Ïù¥ÎèôÌïòÍ∏∞!"},moveAround:{en:"Move!",de:"Bewegen!",fr:"Bougez !",ja:"Âãï„ÅèÔºÅ",cn:"Âø´Âä®ÔºÅ",ko:"ÏõÄÏßÅÏù¥Í∏∞!"},breakChains:{en:"Break chains",de:"Kette zerbrechen",fr:"Brisez les chaines",ja:"Á∑ö„ÇíÂàá„Çã",cn:"ÂàáÊñ≠ËøûÁ∫ø",ko:"ÏÑ† ÎÅäÍ∏∞"},moveChainsTogether:{en:"Move chains together",de:"Ketten zusammen bewegen",fr:"Bougez les chaines ensemble",ja:"Á∑öÂêåÂ£´‰∏ÄÁ∑í„Å´ÁßªÂãï",cn:"ËøûÁ∫ø‰∏ÄËµ∑ÁßªÂä®",ko:"ÏÑ† Î∂ôÏñ¥ÏÑú Í∞ôÏù¥ ÏõÄÏßÅÏù¥Í∏∞"},earthshakerOnYou:{en:"Earth Shaker on YOU",de:"Erdsto√ü auf DIR",fr:"Marque de terre sur VOUS",ja:"Ëá™ÂàÜ„Å´„Ç¢„Éº„Çπ„Ç∑„Çß„Ç§„Ç´„Éº",cn:"Â§ßÂú∞ÊëáÂä®ÁÇπÂêç",ko:"Ïñ¥Ïä§Ïßï ÎåÄÏÉÅÏûê"},wakeUp:{en:"WAKE UP",de:"AUFWACHEN",fr:"R√âVEILLES-TOI",ja:"ÁõÆ„ÇíË¶ö„Åæ„Åó„Å¶ÔºÅ",cn:"ÈÜíÈÜíÔºÅÂä®‰∏ÄÂä®ÔºÅÔºÅ",ko:"Í∞ïÏ†ú Ìá¥Ïû• 7Î∂Ñ Ï†Ñ"},closeTethersWithPlayer:{en:"Close Tethers (${player})",de:"Nahe Verbindungen (${player})",fr:"Liens proches avec (${player})",ja:"(${player})„Å´Ëøë„Å•„Åè",cn:"Èù†ËøëËøûÁ∫ø (${player})",ko:"ÏÉÅÎåÄÏôÄ Í∞ÄÍπåÏù¥ Î∂ôÍ∏∞ (${player})"},farTethersWithPlayer:{en:"Far Tethers (${player})",de:"Entfernte Verbindungen (${player})",fr:"Liens √©loign√©s avec (${player})",ja:" (${player})„Åã„ÇâÈõ¢„Çå„Çã",cn:"ËøúÁ¶ªËøûÁ∫ø (${player})",ko:"ÏÉÅÎåÄÏôÄ Îñ®Ïñ¥ÏßÄÍ∏∞ (${player})"},unknownTarget:{en:"???",de:"???",fr:"???",ja:"???",cn:"???",ko:"???"},north:{en:"North",de:"Norden",fr:"Nord",ja:"Âåó",cn:"‰∏ä(Âåó)",ko:"Î∂ÅÏ™Ω"},south:{en:"South",de:"S√ºden",fr:"Sud",ja:"Âçó",cn:"‰∏ã(Âçó)",ko:"ÎÇ®Ï™Ω"},east:{en:"East",de:"Osten",fr:"Est",ja:"Êù±",cn:"Âè≥(‰∏ú)",ko:"ÎèôÏ™Ω"},west:{en:"West",de:"Westen",fr:"Ouest",ja:"Ë•ø",cn:"Â∑¶(Ë•ø)",ko:"ÏÑúÏ™Ω"},northwest:{en:"Northwest",de:"Nordwesten",fr:"nord-ouest",ja:"ÂåóË•ø",cn:"Â∑¶‰∏ä(Ë•øÂåó)",ko:"Î∂ÅÏÑú"},northeast:{en:"Northeast",de:"Nordosten",fr:"nord-est",ja:"ÂåóÊù±",cn:"Âè≥‰∏ä(‰∏úÂåó)",ko:"Î∂ÅÎèô"},southwest:{en:"Southwest",de:"S√ºdwesten",fr:"sud-ouest",ja:"ÂçóË•ø",cn:"Â∑¶‰∏ã(Ë•øÂçó)",ko:"ÎÇ®ÏÑú"},southeast:{en:"Southeast",de:"S√ºdosten",fr:"sud-est",ja:"ÂçóÊù±",cn:"Âè≥‰∏ã(‰∏úÂçó)",ko:"ÎÇ®Îèô"},dirN:{en:"N",de:"N",fr:"N",ja:"Âåó",cn:"‰∏ä(Âåó)",ko:"Î∂ÅÏ™Ω"},dirS:{en:"S",de:"S",fr:"S",ja:"Âçó",cn:"‰∏ã(Âçó)",ko:"ÎÇ®Ï™Ω"},dirE:{en:"E",de:"O",fr:"E",ja:"Êù±",cn:"Âè≥(‰∏ú)",ko:"ÎèôÏ™Ω"},dirW:{en:"W",de:"W",fr:"O",ja:"Ë•ø",cn:"Â∑¶(Ë•ø)",ko:"ÏÑúÏ™Ω"},dirNW:{en:"NW",de:"NW",fr:"NO",ja:"ÂåóË•ø",cn:"Â∑¶‰∏ä(Ë•øÂåó)",ko:"Î∂ÅÏÑú"},dirNE:{en:"NE",de:"NO",fr:"NE",ja:"ÂåóÊù±",cn:"Âè≥‰∏ä(‰∏úÂåó)",ko:"Î∂ÅÎèô"},dirSW:{en:"SW",de:"SW",fr:"SO",ja:"ÂçóË•ø",cn:"Â∑¶‰∏ã(Ë•øÂçó)",ko:"ÎÇ®ÏÑú"},dirSE:{en:"SE",de:"SO",fr:"SE",ja:"ÂçóÊù±",cn:"Âè≥‰∏ã(‰∏úÂçó)",ko:"ÎÇ®Îèô"},num0:n(0),num1:n(1),num2:n(2),num3:n(3),num4:n(4),num5:n(5),num6:n(6),num7:n(7),num8:n(8),num9:n(9)})},200:(e,t,a)=>{a.d(t,{Z:()=>n});class n{static startsUsing(e){void 0===e&&(e={}),n.validateParams(e,"startsUsing",["timestamp","source","id","ability","target","capture"]);const t=n.trueIfUndefined(e.capture);let a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 14:"+n.maybeCapture(t,"id",e.id,"\\y{AbilityCode}")+":";return(e.source||e.id||e.target||t)&&(a+=n.maybeCapture(t,"source",e.source,".*?")+" starts using "),(e.ability||e.target||t)&&(a+=n.maybeCapture(t,"ability",e.ability,".*?")+" on "),(e.target||t)&&(a+=n.maybeCapture(t,"target",e.target,".*?")+"\\."),n.parse(a)}static ability(e){void 0===e&&(e={}),n.validateParams(e,"ability",["timestamp","source","sourceId","id","ability","targetId","target","capture"]);const t=n.trueIfUndefined(e.capture);let a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 1[56]:"+n.maybeCapture(t,"sourceId","\\y{ObjectId}")+":"+n.maybeCapture(t,"source",e.source,"[^:]*?")+":";return(e.id||e.ability||e.target||e.targetId||t)&&(a+=n.maybeCapture(t,"id",e.id,"\\y{AbilityCode}")+":"),(e.ability||e.target||e.targetId||t)&&(a+=n.maybeCapture(t,"ability",e.ability,"[^:]*?")+":"),(e.target||e.targetId||t)&&(a+=n.maybeCapture(t,"targetId","\\y{ObjectId}")+":"),(e.target||t)&&(a+=n.maybeCapture(t,"target",e.target,"[^:]*?")+":"),n.parse(a)}static abilityFull(e){void 0===e&&(e={}),n.validateParams(e,"abilityFull",["timestamp","sourceId","source","id","ability","targetId","target","flags","flag0","flag1","flag2","flag3","flag4","flag5","flag6","flag7","flag8","flag9","flag10","flag11","flag12","flag13","flag14","targetHp","targetMaxHp","targetMp","targetMaxMp","targetX","targetY","targetZ","targetHeading","hp","maxHp","mp","maxMp","x","y","z","heading","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 1[56]:"+n.maybeCapture(t,"sourceId",e.sourceId,"\\y{ObjectId}")+":"+n.maybeCapture(t,"source",e.source,"[^:]*?")+":"+n.maybeCapture(t,"id",e.id,"\\y{AbilityCode}")+":"+n.maybeCapture(t,"ability",e.ability,"[^:]*?")+":"+n.maybeCapture(t,"targetId",e.targetId,"\\y{ObjectId}")+":"+n.maybeCapture(t,"target",e.target,"[^:]*?")+":"+n.maybeCapture(t,"flags",e.flags,"[^:]*?")+":"+n.maybeCapture(t,"flag0",e.flag0,"[^:]*?")+":"+n.maybeCapture(t,"flag1",e.flag1,"[^:]*?")+":"+n.maybeCapture(t,"flag2",e.flag2,"[^:]*?")+":"+n.maybeCapture(t,"flag3",e.flag3,"[^:]*?")+":"+n.maybeCapture(t,"flag4",e.flag4,"[^:]*?")+":"+n.maybeCapture(t,"flag5",e.flag5,"[^:]*?")+":"+n.maybeCapture(t,"flag6",e.flag6,"[^:]*?")+":"+n.maybeCapture(t,"flag7",e.flag7,"[^:]*?")+":"+n.maybeCapture(t,"flag8",e.flag8,"[^:]*?")+":"+n.maybeCapture(t,"flag9",e.flag9,"[^:]*?")+":"+n.maybeCapture(t,"flag10",e.flag10,"[^:]*?")+":"+n.maybeCapture(t,"flag11",e.flag11,"[^:]*?")+":"+n.maybeCapture(t,"flag12",e.flag12,"[^:]*?")+":"+n.maybeCapture(t,"flag13",e.flag13,"[^:]*?")+":"+n.maybeCapture(t,"flag14",e.flag13,"[^:]*?")+":"+n.optional(n.maybeCapture(t,"targetHp",e.targetHp,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"targetMaxHp",e.targetMaxHp,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"targetMp",e.targetMp,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"targetMaxMp",e.targetMaxMp,"\\y{Float}"))+":"+n.optional("\\y{Float}")+":"+n.optional("\\y{Float}")+":"+n.optional(n.maybeCapture(t,"targetX",e.targetX,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"targetY",e.targetY,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"targetZ",e.targetZ,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"targetHeading",e.targetHeading,"\\y{Float}"))+":"+n.maybeCapture(t,"hp",e.hp,"\\y{Float}")+":"+n.maybeCapture(t,"maxHp",e.maxHp,"\\y{Float}")+":"+n.maybeCapture(t,"mp",e.mp,"\\y{Float}")+":"+n.maybeCapture(t,"maxMp",e.maxMp,"\\y{Float}")+":\\y{Float}:\\y{Float}:"+n.maybeCapture(t,"x",e.x,"\\y{Float}")+":"+n.maybeCapture(t,"y",e.y,"\\y{Float}")+":"+n.maybeCapture(t,"z",e.z,"\\y{Float}")+":"+n.maybeCapture(t,"heading",e.heading,"\\y{Float}")+":.*?$";return n.parse(a)}static headMarker(e){void 0===e&&(e={}),n.validateParams(e,"headMarker",["timestamp","targetId","target","id","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 1B:"+n.maybeCapture(t,"targetId",e.targetId,"\\y{ObjectId}")+":"+n.maybeCapture(t,"target",e.target,"[^:]*?")+":....:....:"+n.maybeCapture(t,"id",e.id,"....")+":";return n.parse(a)}static addedCombatant(e){void 0===e&&(e={}),n.validateParams(e,"addedCombatant",["timestamp","name","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 03:\\y{ObjectId}:Added new combatant "+n.maybeCapture(t,"name",e.name,".*?")+"\\.";return n.parse(a)}static addedCombatantFull(e){void 0===e&&(e={}),n.validateParams(e,"addedCombatantFull",["timestamp","id","name","job","level","hp","x","y","z","npcId","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 03:"+n.maybeCapture(t,"id",e.id,"\\y{ObjectId}")+":Added new combatant "+n.maybeCapture(t,"name",e.name,"[^:]*?")+"\\. {2}Job: "+n.maybeCapture(t,"job",e.job,"[^:]*?")+" Level: "+n.maybeCapture(t,"level",e.level,"[^:]*?")+" Max HP: "+n.maybeCapture(t,"hp",e.hp,"[0-9]+")+"..*?Pos: \\("+n.maybeCapture(t,"x",e.x,"\\y{Float}")+","+n.maybeCapture(t,"y",e.y,"\\y{Float}")+","+n.maybeCapture(t,"z",e.z,"\\y{Float}")+"\\)(?: \\("+n.maybeCapture(t,"npcId",e.npcId,".*?")+"\\))?\\.";return n.parse(a)}static removingCombatant(e){void 0===e&&(e={}),n.validateParams(e,"removingCombatant",["timestamp","id","name","hp","capture","x","y","z"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 04:"+n.maybeCapture(t,"id","\\y{ObjectId}")+":Removing combatant "+n.maybeCapture(t,"name",e.name,".*?")+"\\..*?Max HP: "+n.maybeCapture(t,"hp",e.hp,"[0-9]+")+"."+n.optional(".*?Pos: \\("+n.maybeCapture(t,"x",e.x,"\\y{Float}")+","+n.maybeCapture(t,"y",e.y,"\\y{Float}")+","+n.maybeCapture(t,"z",e.z,"\\y{Float}")+"\\)");return n.parse(a)}static gainsEffect(e){void 0===e&&(e={}),n.validateParams(e,"gainsEffect",["timestamp","targetId","target","effect","source","duration","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 1A:"+n.maybeCapture(t,"targetId",e.targetId,"\\y{ObjectId}")+":"+n.maybeCapture(t,"target",e.target,".*?")+" gains the effect of "+n.maybeCapture(t,"effect",e.effect,".*?")+" from "+n.maybeCapture(t,"source",e.source,".*?")+" for "+n.maybeCapture(t,"duration",e.duration,"\\y{Float}")+" Seconds\\.";return n.parse(a)}static statusEffectExplicit(e){void 0===e&&(e={}),n.validateParams(e,"statusEffectExplicit",["timestamp","targetId","target","job","hp","maxHp","mp","maxMp","x","y","z","heading","data0","data1","data2","data3","data4","capture"]);const t=n.trueIfUndefined(e.capture),a=".*?:",i=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 26:"+n.maybeCapture(t,"targetId",e.targetId,"\\y{ObjectId}")+":"+n.maybeCapture(t,"target",e.target,"[^:]*?")+":[0-9A-F]{0,6}"+n.maybeCapture(t,"job",e.job,"[0-9A-F]{0,2}")+":"+n.maybeCapture(t,"hp",e.hp,"\\y{Float}")+":"+n.maybeCapture(t,"maxHp",e.maxHp,"\\y{Float}")+":"+n.maybeCapture(t,"mp",e.mp,"\\y{Float}")+":"+n.maybeCapture(t,"maxMp",e.maxMp,"\\y{Float}")+":"+a+a+n.optional(n.maybeCapture(t,"x",e.x,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"y",e.y,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"z",e.z,"\\y{Float}"))+":"+n.optional(n.maybeCapture(t,"heading",e.heading,"\\y{Float}"))+":"+n.maybeCapture(t,"data0",e.data0,"[^:]*?")+":"+n.maybeCapture(t,"data1",e.data1,"[^:]*?")+":"+n.optional(n.maybeCapture(t,"data2",e.data2,"[^:]*?")+":")+n.optional(n.maybeCapture(t,"data3",e.data3,"[^:]*?")+":")+n.optional(n.maybeCapture(t,"data4",e.data4,"[^:]*?")+":");return n.parse(i)}static losesEffect(e){void 0===e&&(e={}),n.validateParams(e,"losesEffect",["timestamp","targetId","target","effect","source","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 1E:"+n.maybeCapture(t,"targetId",e.targetId,"\\y{ObjectId}")+":"+n.maybeCapture(t,"target",e.target,".*?")+" loses the effect of "+n.maybeCapture(t,"effect",e.effect,".*?")+" from "+n.maybeCapture(t,"source",e.source,".*?")+"\\.";return n.parse(a)}static tether(e){void 0===e&&(e={}),n.validateParams(e,"tether",["timestamp","source","sourceId","target","targetId","id","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 23:"+n.maybeCapture(t,"sourceId",e.sourceId,"\\y{ObjectId}")+":"+n.maybeCapture(t,"source",e.source,"[^:]*?")+":"+n.maybeCapture(t,"targetId",e.targetId,"\\y{ObjectId}")+":"+n.maybeCapture(t,"target",e.target,"[^:]*?")+":....:....:"+n.maybeCapture(t,"id",e.id,"....")+":";return n.parse(a)}static wasDefeated(e){void 0===e&&(e={}),n.validateParams(e,"wasDefeated",["timestamp","target","source","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 19:"+n.maybeCapture(t,"target",e.target,".*?")+" was defeated by "+n.maybeCapture(t,"source",e.source,".*?")+"\\.";return n.parse(a)}static hasHP(e){void 0===e&&(e={}),n.validateParams(e,"hasHP",["timestamp","name","hp","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 0D:"+n.maybeCapture(t,"name",e.name,".*?")+" HP at "+n.maybeCapture(t,"hp",e.hp,"\\d+")+"%";return n.parse(a)}static echo(e){return void 0===e&&(e={}),n.validateParams(e,"echo",["timestamp","code","line","capture"]),n.gameLog({line:e.line,capture:e.capture,code:"0038"})}static dialog(e){void 0===e&&(e={}),n.validateParams(e,"dialog",["timestamp","code","line","name","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 00:"+n.maybeCapture(t,"code","0044")+":"+n.maybeCapture(t,"name",e.name,".*?")+":"+n.maybeCapture(t,"line",e.line,".*")+"$";return n.parse(a)}static message(e){return void 0===e&&(e={}),n.validateParams(e,"message",["timestamp","code","line","capture"]),n.gameLog({line:e.line,capture:e.capture,code:"0839"})}static gameLog(e){void 0===e&&(e={}),n.validateParams(e,"gameLog",["timestamp","code","line","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 00:"+n.maybeCapture(t,"code",e.code,"....")+":"+n.maybeCapture(t,"line",e.line,".*")+"$";return n.parse(a)}static gameNameLog(e){void 0===e&&(e={}),n.validateParams(e,"gameNameLog",["timestamp","code","name","line","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 00:"+n.maybeCapture(t,"code",e.code,"....")+":"+n.maybeCapture(t,"name",e.name,"[^:]*")+":"+n.maybeCapture(t,"line",e.line,".*")+"$";return n.parse(a)}static statChange(e){void 0===e&&(e={}),n.validateParams(e,"statChange",["timestamp","job","strength","dexterity","vitality","intelligence","mind","piety","attackPower","directHit","criticalHit","attackMagicPotency","healMagicPotency","determination","skillSpeed","spellSpeed","tenacity","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 0C:Player Stats: "+n.maybeCapture(t,"job",e.job,"\\d+")+":"+n.maybeCapture(t,"strength",e.strength,"\\d+")+":"+n.maybeCapture(t,"dexterity",e.dexterity,"\\d+")+":"+n.maybeCapture(t,"vitality",e.vitality,"\\d+")+":"+n.maybeCapture(t,"intelligence",e.intelligence,"\\d+")+":"+n.maybeCapture(t,"mind",e.mind,"\\d+")+":"+n.maybeCapture(t,"piety",e.piety,"\\d+")+":"+n.maybeCapture(t,"attackPower",e.attackPower,"\\d+")+":"+n.maybeCapture(t,"directHit",e.directHit,"\\d+")+":"+n.maybeCapture(t,"criticalHit",e.criticalHit,"\\d+")+":"+n.maybeCapture(t,"attackMagicPotency",e.attackMagicPotency,"\\d+")+":"+n.maybeCapture(t,"healMagicPotency",e.healMagicPotency,"\\d+")+":"+n.maybeCapture(t,"determination",e.determination,"\\d+")+":"+n.maybeCapture(t,"skillSpeed",e.skillSpeed,"\\d+")+":"+n.maybeCapture(t,"spellSpeed",e.spellSpeed,"\\d+")+":0:"+n.maybeCapture(t,"tenacity",e.tenacity,"\\d+");return n.parse(a)}static changeZone(e){void 0===e&&(e={}),n.validateParams(e,"statChange",["timestamp","name","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 01:Changed Zone to "+n.maybeCapture(t,"name",e.name,".*?")+"\\.";return n.parse(a)}static network6d(e){void 0===e&&(e={}),n.validateParams(e,"network6d",["timestamp","instance","command","data0","data1","data2","data3","capture"]);const t=n.trueIfUndefined(e.capture),a=n.maybeCapture(t,"timestamp","\\y{Timestamp}")+" 21:"+n.maybeCapture(t,"instance",e.instance,".*?")+":"+n.maybeCapture(t,"command",e.command,".*?")+":"+n.maybeCapture(t,"data0",e.data0,".*?")+":"+n.maybeCapture(t,"data1",e.data1,".*?")+":"+n.maybeCapture(t,"data2",e.data2,".*?")+":"+n.maybeCapture(t,"data3",e.data3,".*?")+"$";return n.parse(a)}static maybeCapture(e,t,a,i){return a||(a=i),a=n.anyOf(a),e?n.namedCapture(t,a):a}static optional(e){return`(?:${e})?`}static namedCapture(e,t){return e.includes(">")&&console.error('"'+e+'" contains ">".'),e.includes("<")&&console.error('"'+e+'" contains ">".'),"(?<"+e+">"+t+")"}static anyOf(...e){let t;if(1===e.length){if(!Array.isArray(e[0]))return e[0];t=e[0]}else t=e;let a="(?:"+(t[0]instanceof RegExp?t[0].source:t[0]);for(let e=1;e<t.length;++e)a+="|"+(t[e]instanceof RegExp?t[e].source:t[e]);return a+=")",a}static parse(e){const t={Timestamp:"^.{14}",NetTimestamp:".{33}",NetField:"(?:[^|]*\\|)",LogType:"[0-9A-Fa-f]{2}",AbilityCode:"[0-9A-Fa-f]{1,8}",ObjectId:"[0-9A-F]{8}",Name:"(?:[^\\s:|]+(?: [^\\s:|]+)?|)",Float:"-?[0-9]+(?:[.,][0-9]+)?(?:E-?[0-9]+)?"};let a="i";return e instanceof RegExp&&(a+=(e.global?"g":"")+(e.multiline?"m":""),e=e.source),e=e.replace(/\\y\{(.*?)\}/g,((e,a)=>t[a]||e)),new RegExp(e,a)}static parseGlobal(e){const t=n.parse(e);let a="gi";return a+=e.multiline?"m":"",new RegExp(t.source,a)}static trueIfUndefined(e){return void 0===e||!!e}static validateParams(e,t,a){if(null===e)return;if("object"!=typeof e)return;const n=Object.keys(e);for(let e=0;e<n.length;++e){const i=n[e];if(!a.includes(i))throw new Error(`${t}: invalid parameter '${i}'.  Valid params: ${JSON.stringify(a)}`)}}}},59:(e,t,a)=>{a.d(t,{ug:()=>i,n3:()=>m});var n=a(571);const i=["alarmText","alertText","infoText","response","tts","sound"],r={info:"infoText",alert:"alertText",alarm:"alarmText"},s=e=>{if(!(e in r))throw new Error(`Invalid severity: ${e}.`);return r[e]},o=e=>e?s(e):"infoText",l=e=>e?s(e):"alertText",d=e=>e?s(e):"alarmText",c=e=>e&&e.target!==e.source?e.target||e[1]:null,u=e=>e.source||e[0],h=function(e,t,a,n){const i={};return e!==a?(i[e]=t,i[a]=n):i[e]=(e,a,i)=>{t(e,a,i)||n(e,a,i)},i},p=e=>"4"!==e[0],g=(e,t)=>(a,n,i)=>(i.responseOutputStrings={text:t},{[e]:(e,t,a)=>a.text()}),m={tankBuster:(e,t)=>{const a={noTarget:n.Z.tankBuster,busterOnYou:n.Z.tankBusterOnYou,busterOnTarget:n.Z.tankBusterOnPlayer},i=h(l(e),((e,t,a)=>{const n=c(t);if(!n){if("tank"!==e.role&&"healer"!==e.role)return;return a.noTarget()}if(n===e.me)return a.busterOnYou()}),o(t),((e,t,a)=>{const n=c(t);if(!n){if("tank"===e.role||"healer"===e.role)return;return a.noTarget()}if(n!==e.me)return a.busterOnTarget({player:e.ShortName(n)})}));return(e,t,n)=>(n.responseOutputStrings=a,i)},tankBusterSwap:(e,t)=>{const a={tankSwap:n.Z.tankSwap,busterOnYou:n.Z.tankBusterOnYou,busterOnTarget:n.Z.tankBusterOnPlayer},i=h(d(t),((e,t,a)=>{const n=c(t);if("tank"===e.role&&n!==e.me)return a.tankSwap()}),l(e),((e,t,a)=>{const n=c(t);if("tank"!==e.role||n===e.me)return n===e.me?a.busterOnYou():a.busterOnTarget({player:e.ShortName(n)})}));return(e,t,n)=>(n.responseOutputStrings=a,i)},tankCleave:e=>(t,a,i)=>(i.responseOutputStrings={cleaveOnYou:n.Z.tankCleaveOnYou,cleaveNoTarget:n.Z.tankCleave,avoidCleave:n.Z.avoidTankCleave},{[o(e)]:(e,t,a)=>"tank"===e.role?c(t)===e.me?a.cleaveOnYou():a.cleaveNoTarget():a.avoidCleave()}),miniBuster:e=>g(o(e),n.Z.miniBuster),aoe:e=>g(o(e),n.Z.aoe),bigAoe:e=>g(o(e),n.Z.bigAoe),spread:e=>g(o(e),n.Z.spread),stackMarker:e=>g(l(e),n.Z.stackMarker),getTogether:e=>g(l(e),n.Z.getTogether),stackMarkerOn:e=>(t,a,i)=>(i.responseOutputStrings={stackOnYou:n.Z.stackOnYou,stackOnTarget:n.Z.stackOnPlayer},{[l(e)]:(e,t,a)=>{const n=c(t);return n===e.me?a.stackOnYou():a.stackOnTarget({player:e.ShortName(n)})}}),stackMiddle:e=>g(o(e),n.Z.stackMiddle),doritoStack:e=>g(l(e),n.Z.doritoStack),spreadThenStack:e=>g(l(e),n.Z.spreadThenStack),stackThenSpread:e=>g(l(e),n.Z.stackThenSpread),knockback:e=>g(l(e),n.Z.knockback),knockbackOn:(e,t)=>{const a={knockbackOnYou:n.Z.knockbackOnYou,knockbackOnTarget:n.Z.knockbackOnPlayer},i=h(o(e),((e,t,a)=>{if(c(t)===e.me)return a.knockbackOnYou()}),o(t),((e,t,a)=>{const n=c(t);if(n!==e.me)return a.knockbackOnTarget({player:e.ShortName(n)})}));return(e,t,n)=>(n.responseOutputStrings=a,i)},lookTowards:e=>g(o(e),n.Z.lookTowardsBoss),lookAway:e=>g(o(e),n.Z.lookAway),lookAwayFromTarget:e=>(t,a,i)=>(i.responseOutputStrings={lookAwayFrom:n.Z.lookAwayFromTarget},{[l(e)]:(e,t,a)=>{const n=c(t);if(n===e.me)return;const i=p(t.targetId)?e.ShortName(n):n;return a.lookAwayFrom({name:i})}}),lookAwayFromSource:e=>(t,a,i)=>(i.responseOutputStrings={lookAwayFrom:n.Z.lookAwayFromTarget},{[l(e)]:(e,t,a)=>{const n=u(t);if(n===e.me)return;const i=p(t.sourceId)?e.ShortName(n):n;return a.lookAwayFrom({name:i})}}),getBehind:e=>g(l(e),n.Z.getBehind),goFrontOrSides:e=>g(l(e),n.Z.goFrontOrSides),getUnder:e=>g(o(e),n.Z.getUnder),getIn:e=>g(l(e),n.Z.in),getOut:e=>g(l(e),n.Z.out),outOfMelee:e=>g(o(e),n.Z.outOfMelee),getInThenOut:e=>g(o(e),n.Z.inThenOut),getOutThenIn:e=>g(o(e),n.Z.outThenIn),getBackThenFront:e=>g(o(e),n.Z.backThenFront),getFrontThenBack:e=>g(o(e),n.Z.frontThenBack),goMiddle:e=>g(l(e),n.Z.goIntoMiddle),goRight:e=>g(l(e),n.Z.right),goLeft:e=>g(l(e),n.Z.left),goWest:e=>g(l(e),n.Z.getLeftAndWest),goEast:e=>g(l(e),n.Z.getRightAndEast),goFrontBack:e=>g(l(e),n.Z.goFrontBack),goSides:e=>g(l(e),n.Z.sides),killAdds:e=>g(o(e),n.Z.killAdds),killExtraAdd:e=>g(o(e),n.Z.killExtraAdd),awayFromFront:e=>g(l(e),n.Z.awayFromFront),sleep:e=>(t,a,i)=>(i.responseOutputStrings={sleep:n.Z.sleepTarget},{[l(e)]:(e,t,a)=>{const n=u(t);return a.sleep({name:n})}}),stun:e=>(t,a,i)=>(i.responseOutputStrings={stun:n.Z.stunTarget},{[l(e)]:(e,t,a)=>{const n=u(t);return a.stun({name:n})}}),interrupt:e=>(t,a,i)=>(i.responseOutputStrings={interrupt:n.Z.interruptTarget},{[l(e)]:(e,t,a)=>{const n=u(t);return a.interrupt({name:n})}}),preyOn:(e,t)=>{const a={preyOnYou:n.Z.preyOnYou,preyOnTarget:n.Z.preyOnPlayer},i=h(l(e),((e,t,a)=>{const n=c(t);if(e.me===n)return a.preyOnYou()}),o(t),((e,t,a)=>{const n=c(t);if(n!==e.me)return a.preyOnTarget({player:e.ShortName(n)})}));return(e,t,n)=>(n.responseOutputStrings=a,i)},awayFrom:e=>(t,a,i)=>(i.responseOutputStrings={awayFromGroup:n.Z.awayFromGroup,awayFromTarget:n.Z.awayFromPlayer},{[l(e)]:(e,t,a)=>{const n=c(t);return e.me===n?a.awayFromGroup():a.awayFromTarget({player:e.ShortName(n)})}}),meteorOnYou:e=>g(d(e),n.Z.meteorOnYou),stopMoving:e=>g(d(e),n.Z.stopMoving),stopEverything:e=>g(d(e),n.Z.stopEverything),moveAway:e=>g(o(e),n.Z.moveAway),moveAround:e=>g(o(e),n.Z.moveAround),breakChains:e=>g(o(e),n.Z.breakChains),moveChainsTogether:e=>g(o(e),n.Z.moveChainsTogether),earthshaker:e=>(t,a,i)=>(i.responseOutputStrings={earthshaker:n.Z.earthshakerOnYou},{[l(e)]:(e,t,a)=>{if(c(t)===e.me)return a.earthshaker()}}),wakeUp:e=>g(d(e),n.Z.wakeUp)}},509:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _conditions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85),_netregexes_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(578),_regexes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(200),_responses_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(59),_common_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(436),_zone_id_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(829);const Conditions=_conditions_js__WEBPACK_IMPORTED_MODULE_0__.Z,NetRegexes=_netregexes_js__WEBPACK_IMPORTED_MODULE_1__.Z,Regexes=_regexes_js__WEBPACK_IMPORTED_MODULE_2__.Z,Responses=_responses_js__WEBPACK_IMPORTED_MODULE_3__.n3,Util=_common_js__WEBPACK_IMPORTED_MODULE_4__.Z,ZoneId=_zone_id_js__WEBPACK_IMPORTED_MODULE_5__.Z;class UserConfig{constructor(){this.optionTemplates={},this.savedConfig=null,this.userFileCallbacks={}}registerOptions(e,t,a){this.optionTemplates[e]=t,a&&(this.userFileCallbacks[e]=a)}sortUserFiles(e){const t={};for(const a of e)t[a]=a.toUpperCase().split(/[/\\]/);return e.sort(((e,a)=>{const n=Math.max(t[e].length,t[a].length);for(let i=0;i<n;++i){const n=t[e].length-1===i,r=t[a].length-1===i;if(n&&r){const n=t[e][i].replace(/\.[^\.]*$/,""),r=t[a][i].replace(/\.[^\.]*$/,"");return n.localeCompare(r)||t[e][i].localeCompare(t[a][i])}if(!n&&!r){const n=t[e][i].localeCompare(t[a][i]);if(n)return n}if(t[e].length-1<=i)return 1;if(t[a].length-1<=i)return-1}return 0}))}filterUserFiles(e,t,a){const n=a.toLowerCase(),i=t.toLowerCase();return e.filter((e=>{const t=e.toLowerCase();return!(!t.endsWith(n)||t!==`${i}${n}`&&!t.startsWith(`${i}/`)&&!t.startsWith(`${i}\\`))}))}getUserConfigLocation(e,t,a){let n=!1;const i=()=>{n||(n=!0,window.location.reload())};window.addOverlayListener("onUserFileChanged",(()=>{i()})),window.addOverlayListener("onForceReload",(()=>{i()})),this.loadUserFiles(e,t,a)}loadUserFiles(overlayName,options,callback){const readOptions=callOverlayHandler({call:"cactbotLoadData",overlay:"options"}),loadUser=async e=>{const basePath=e.detail.userLocation.replace(/[/\\]*$/,"")+"\\",localFiles=e.detail.localUserFiles;e.detail.language&&(options.ParserLanguage=e.detail.language,options.ShortLocale=e.detail.language,options.DisplayLanguage=e.detail.language),e.detail.parserLanguage&&(options.ParserLanguage=e.detail.parserLanguage,options.Language=e.detail.parserLanguage);const supportedLanguage=["en","de","fr","ja","cn","ko"];e.detail.systemLocale&&(options.SystemLocale=e.detail.systemLocale,options.ShortLocale=e.detail.systemLocale.substring(0,2),"zh"===options.ShortLocale&&(options.ShortLocale="cn"),supportedLanguage.includes(options.ShortLocale)||(options.ShortLocale=options.ParserLanguage)),options.DisplayLanguage=e.detail.displayLanguage,supportedLanguage.includes(options.DisplayLanguage)||(options.DisplayLanguage=options.ParserLanguage||"en"),document.body.classList.add(`lang-${options.DisplayLanguage}`),this.addUnlockText(options.DisplayLanguage);const userOptions=await readOptions||{};this.savedConfig=userOptions.data||{},this.processOptions(options,this.savedConfig[overlayName]||{},this.optionTemplates[overlayName]);const printUserFile=options.Debug?e=>console.log(e):e=>{},warnOnVariableResetMap={raidboss:["Triggers"]};warnOnVariableResetMap[overlayName]=warnOnVariableResetMap[overlayName]||[];const variableTracker={};if(localFiles){const sortedFiles=this.sortUserFiles(Object.keys(localFiles)),jsFiles=this.filterUserFiles(sortedFiles,overlayName,".js"),cssFiles=this.filterUserFiles(sortedFiles,overlayName,".css");for(const jsFile of jsFiles)try{printUserFile(`local user file: ${basePath}${jsFile}`);const Options=options;eval(localFiles[jsFile]);for(const e of warnOnVariableResetMap[overlayName])variableTracker[e]&&variableTracker[e]!==options[e]&&console.log(`*** WARNING: ${basePath}${jsFile} overwrites Options.${e} from previous files.`),variableTracker[e]=options[e];this.userFileCallbacks[overlayName]&&this.userFileCallbacks[overlayName](jsFile,localFiles,options,basePath)}catch(e){console.log("*** ERROR IN USER FILE ***"),console.log(e.stack)}this.handleSkin(options.Skin);for(const e of cssFiles){printUserFile(`local user file: ${basePath}${e}`);const t=document.createElement("style");t.innerText=localFiles[e],document.getElementsByTagName("head")[0].appendChild(t)}}callback&&callback(),callOverlayHandler({call:"cactbotRequestState"})};callOverlayHandler({call:"cactbotLoadUser",source:location.href,overlayName}).then((e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{loadUser(e)})):loadUser(e)}))}handleSkin(e){if(!e||"default"===e)return;let t=document.location.toString();const a=t.lastIndexOf("/");-1!==a&&(t=t.substr(0,a)),"/"!==t.slice(-1)&&(t+="/");const n=t+"skins/"+e+"/"+e+".css";this.appendCSSLink(n)}appendJSLink(e){const t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),t.setAttribute("async",!1),document.getElementsByTagName("head")[0].appendChild(t)}appendCSSLink(e){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}processOptions(e,t,a){if(Array.isArray(a)){for(let n=0;n<a.length;++n)this.processOptions(e,t,a[n]);return}if(!a)return;const n=a.options||[];for(let a=0;a<n.length;++a){const i=n[a],r=i.id in t?t[i.id]:i.default;i.setterFunc?i.setterFunc(e,r):"integer"===i.type?e[i.id]=parseInt(r):"float"===i.type?e[i.id]=parseFloat(r):e[i.id]=r}a.processExtraOptions&&a.processExtraOptions(e,t)}addUnlockText(e){const t={en:"üîì Unlocked (lock overlay before using)",de:"üîì Entsperrt (Sperre das Overlay vor der Nutzung)",fr:"üîì D√©bloqu√© (Bloquez l'overlay avant utilisation)",ja:"üîì „É≠„ÉÉ„ÇØËß£Èô§ („Ç™„Éº„Éê„Éº„É¨„Ç§„Çí‰ΩøÁî®„Åô„ÇãÂâç„Å´„É≠„ÉÉ„ÇØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ)",cn:"üîì Â∑≤Ëß£Èô§ÈîÅÂÆö (‰Ω†ÈúÄË¶ÅÂ∞ÜÊ≠§ÊÇ¨ÊµÆÁ™óÈîÅÂÆöÂêéÊñπÂèØ‰ΩøÁî®)",ko:"üîì ÏúÑÏπò Ïû†Í∏à Ìï¥Ï†úÎê® (ÏÇ¨Ïö©ÌïòÍ∏∞ Ï†ÑÏóê ÏúÑÏπò Ïû†Í∏àÏùÑ ÏÑ§Ï†ïÌïòÏÑ∏Ïöî)"},a="cactbot-unlocked-text";let n=document.getElementById(a);n||(n=document.createElement("div"),n.id=a,n.classList.add("text"),n.style.display="none",document.body.append(n)),n.innerHTML=t[e]||t.en}}const __WEBPACK_DEFAULT_EXPORT__=new UserConfig;"undefined"!=typeof document&&document.addEventListener("onOverlayStateUpdate",(e=>{const t=document.documentElement.classList;e.detail.isLocked?t.remove("resizeHandle","unlocked"):t.add("resizeHandle","unlocked")}))},829:(e,t,a)=>{a.d(t,{Z:()=>n});const n={ABloodyReunion:560,ARelicRebornTheChimera:368,ARelicRebornTheHydra:369,ARequiemForHeroes:830,ASleepDisturbed:914,ASpectacleForTheAges:533,AccrueEnmityFromMultipleTargets:540,AirForceOne:832,AkadaemiaAnyder:841,AlaMhigo:689,AlexanderTheArmOfTheFather:444,AlexanderTheArmOfTheFatherSavage:451,AlexanderTheArmOfTheSon:522,AlexanderTheArmOfTheSonSavage:531,AlexanderTheBreathOfTheCreator:581,AlexanderTheBreathOfTheCreatorSavage:585,AlexanderTheBurdenOfTheFather:445,AlexanderTheBurdenOfTheFatherSavage:452,AlexanderTheBurdenOfTheSon:523,AlexanderTheBurdenOfTheSonSavage:532,AlexanderTheCuffOfTheFather:443,AlexanderTheCuffOfTheFatherSavage:450,AlexanderTheCuffOfTheSon:521,AlexanderTheCuffOfTheSonSavage:530,AlexanderTheEyesOfTheCreator:580,AlexanderTheEyesOfTheCreatorSavage:584,AlexanderTheFistOfTheFather:442,AlexanderTheFistOfTheFatherSavage:449,AlexanderTheFistOfTheSon:520,AlexanderTheFistOfTheSonSavage:529,AlexanderTheHeartOfTheCreator:582,AlexanderTheHeartOfTheCreatorSavage:586,AlexanderTheSoulOfTheCreator:583,AlexanderTheSoulOfTheCreatorSavage:587,AllsWellThatEndsInTheWell:220,AllsWellThatStartsWell:796,AlphascapeV10:798,AlphascapeV10Savage:802,AlphascapeV20:799,AlphascapeV20Savage:803,AlphascapeV30:800,AlphascapeV30Savage:804,AlphascapeV40:801,AlphascapeV40Savage:805,Amaurot:838,AmdaporKeep:167,AmdaporKeepHard:189,AmhAraeng:815,AnamnesisAnyder:898,AnnoyTheVoid:222,AsTheHeartBids:894,AssistAlliesInDefeatingATarget:544,Astragalos:729,AvoidAreaOfEffectAttacks:537,AzysLla:402,BaelsarsWall:615,BardamsMettle:623,BasicTrainingEnemyParties:214,BasicTrainingEnemyStrongholds:215,BattleInTheBigKeep:396,BattleOnTheBigBridge:366,BloodOnTheDeck:708,BrayfloxsLongstop:158,BrayfloxsLongstopHard:362,CapeWestwind:332,CastrumAbania:661,CastrumFluminis:778,CastrumMarinum:934,CastrumMarinumDrydocks:967,CastrumMarinumExtreme:935,CastrumMeridianum:217,CentralShroud:148,CentralThanalan:141,ChocoboRaceCostaDelSol:389,ChocoboRaceSagoliiRoad:390,ChocoboRaceTranquilPaths:391,ChocoboRaceTutorial:417,CinderDrift:897,CinderDriftExtreme:912,CoerthasCentralHighlands:155,CoerthasWesternHighlands:397,ComingClean:860,ContainmentBayP1T6:576,ContainmentBayP1T6Extreme:577,ContainmentBayS1T7:517,ContainmentBayS1T7Extreme:524,ContainmentBayZ1T9:637,ContainmentBayZ1T9Extreme:638,CopperbellMines:161,CopperbellMinesHard:349,CuriousGorgeMeetsHisMatch:717,CuttersCry:170,DarkAsTheNightSky:713,DefeatAnOccupiedTarget:545,DeltascapeV10:691,DeltascapeV10Savage:695,DeltascapeV20:692,DeltascapeV20Savage:696,DeltascapeV30:693,DeltascapeV30Savage:697,DeltascapeV40:694,DeltascapeV40Savage:698,DohnMheg:821,DomaCastle:660,DragonSound:714,DunScaith:627,DzemaelDarkhold:171,EastShroud:152,EasternLaNoscea:137,EasternThanalan:145,EdensGateDescent:850,EdensGateDescentSavage:854,EdensGateInundation:851,EdensGateInundationSavage:855,EdensGateResurrection:849,EdensGateResurrectionSavage:853,EdensGateSepulture:852,EdensGateSepultureSavage:856,EdensPromiseAnamorphosis:944,EdensPromiseAnamorphosisSavage:948,EdensPromiseEternity:945,EdensPromiseEternitySavage:949,EdensPromiseLitany:943,EdensPromiseLitanySavage:947,EdensPromiseUmbra:942,EdensPromiseUmbraSavage:946,EdensVerseFulmination:902,EdensVerseFulminationSavage:906,EdensVerseFuror:903,EdensVerseFurorSavage:907,EdensVerseIconoclasm:904,EdensVerseIconoclasmSavage:908,EdensVerseRefulgence:905,EdensVerseRefulgenceSavage:909,Emanation:719,EmanationExtreme:720,EmissaryOfTheDawn:769,EngageMultipleTargets:541,Eulmore:820,ExecuteAComboInBattle:539,ExecuteAComboToIncreaseEnmity:538,ExecuteARangedAttackToIncreaseEnmity:542,FadedMemories:932,FinalExercise:552,FlickingSticksAndTakingNames:219,Foundation:418,FourPlayerMahjongQuickMatchKuitanDisabled:831,Halatali:162,HalataliHard:360,HaukkeManor:166,HaukkeManorHard:350,HealAnAlly:549,HealMultipleAllies:550,HeavenOnHighFloors11_20:771,HeavenOnHighFloors1_10:770,HeavenOnHighFloors21_30:772,HeavenOnHighFloors31_40:782,HeavenOnHighFloors41_50:773,HeavenOnHighFloors51_60:783,HeavenOnHighFloors61_70:774,HeavenOnHighFloors71_80:784,HeavenOnHighFloors81_90:775,HeavenOnHighFloors91_100:785,HellsKier:810,HellsKierExtreme:811,HellsLid:742,HeroOnTheHalfShell:216,HiddenGorge:791,HolminsterSwitch:837,HullbreakerIsle:361,HullbreakerIsleHard:557,Idyllshire:478,IlMheg:816,InThalsName:705,InteractWithTheBattlefield:548,InterdimensionalRift:690,ItsProbablyATrap:665,Kholusia:814,Kugane:628,KuganeCastle:662,KuganeOhashi:806,Lakeland:813,LegendOfTheNotSoHiddenTemple:859,LimsaLominsaLowerDecks:129,LimsaLominsaUpperDecks:128,LongLiveTheQueen:298,LovmMasterTournament:506,LovmPlayerBattleNonRp:591,LovmPlayerBattleRp:589,LovmTournament:590,LowerLaNoscea:135,MalikahsWell:836,MatchAll:null,MatoyasRelict:933,MatsubaMayhem:710,MemoriaMiseraExtreme:913,MessengerOfTheWinds:834,MiddleLaNoscea:134,Mist:136,MorDhona:156,MoreThanAFeeler:221,MtGulg:822,Naadam:688,Neverreap:420,NewGridania:132,NorthShroud:154,NorthernThanalan:147,NyelbertsLament:876,OceanFishing:900,OldGridania:133,OneLifeForOneWorld:592,OnsalHakairDanshigNaadam:888,OurCompromise:716,OurUnsungHeroes:722,OuterLaNoscea:180,PharosSirius:160,PharosSiriusHard:510,PullingPoisonPosies:191,RaisingTheSword:706,ReturnOfTheBull:403,RhalgrsReach:635,SaintMociannesArboretum:511,SaintMociannesArboretumHard:788,Sastasha:157,SastashaHard:387,SealRockSeize:431,ShadowAndClaw:223,ShisuiOfTheVioletTides:616,SigmascapeV10:748,SigmascapeV10Savage:752,SigmascapeV20:749,SigmascapeV20Savage:753,SigmascapeV30:750,SigmascapeV30Savage:754,SigmascapeV40:751,SigmascapeV40Savage:755,Snowcloak:371,SohmAl:441,SohmAlHard:617,SohrKhai:555,SolemnTrinity:300,SouthShroud:153,SouthernThanalan:146,SpecialEventI:353,SpecialEventIi:354,SpecialEventIii:509,StingingBack:192,SyrcusTower:372,TheAery:435,TheAetherochemicalResearchFacility:438,TheAkhAfahAmphitheatreExtreme:378,TheAkhAfahAmphitheatreHard:377,TheAkhAfahAmphitheatreUnreal:930,TheAntitower:516,TheAquapolis:558,TheAurumVale:172,TheAzimSteppe:622,TheBattleOnBekko:711,TheBindingCoilOfBahamutTurn1:241,TheBindingCoilOfBahamutTurn2:242,TheBindingCoilOfBahamutTurn3:243,TheBindingCoilOfBahamutTurn4:244,TheBindingCoilOfBahamutTurn5:245,TheBorderlandRuinsSecure:376,TheBowlOfEmbers:202,TheBowlOfEmbersExtreme:295,TheBowlOfEmbersHard:292,TheBozjaIncident:911,TheBozjanSouthernFront:920,TheBurn:789,TheCalamityRetold:790,TheCarteneauFlatsHeliodrome:633,TheChrysalis:426,TheChurningMists:400,TheCopiedFactory:882,TheCrownOfTheImmaculate:846,TheCrownOfTheImmaculateExtreme:848,TheCrystarium:819,TheDancingPlague:845,TheDancingPlagueExtreme:858,TheDiadem:929,TheDiadem521:901,TheDiademEasy:512,TheDiademHard:515,TheDiademHuntingGrounds:625,TheDiademHuntingGroundsEasy:624,TheDiademTrialsOfTheFury:630,TheDiademTrialsOfTheMatron:656,TheDomanEnclave:759,TheDragonsNeck:142,TheDravanianForelands:398,TheDravanianHinterlands:399,TheDrownedCityOfSkalla:731,TheDungeonsOfLyheGhiah:879,TheDuskVigil:434,TheDyingGasp:847,TheEpicOfAlexanderUltimate:887,TheFaceOfTrueEvil:709,TheFeastCustomMatchCrystalTower:767,TheFeastCustomMatchFeastingGrounds:619,TheFeastCustomMatchLichenweed:646,TheFeastRanked:765,TheFeastTeamRanked:745,TheFeastTraining:766,TheFieldsOfGloryShatter:554,TheFinalCoilOfBahamutTurn1:193,TheFinalCoilOfBahamutTurn2:194,TheFinalCoilOfBahamutTurn3:195,TheFinalCoilOfBahamutTurn4:196,TheFinalStepsOfFaith:559,TheForbiddenLandEurekaAnemos:732,TheForbiddenLandEurekaHydatos:827,TheForbiddenLandEurekaPagos:763,TheForbiddenLandEurekaPyros:795,TheFractalContinuum:430,TheFractalContinuumHard:743,TheFringes:612,TheGhimlytDark:793,TheGrandCosmos:884,TheGreatGubalLibrary:416,TheGreatGubalLibraryHard:578,TheGreatHunt:761,TheGreatHuntExtreme:762,TheGreatShipVylbrand:954,TheHardenedHeart:873,TheHauntedManor:571,TheHeartOfTheProblem:718,TheHeroesGauntlet:916,TheHiddenCanalsOfUznair:725,TheHowlingEye:208,TheHowlingEyeExtreme:297,TheHowlingEyeHard:294,TheHuntersLegacy:875,TheJadeStoa:746,TheJadeStoaExtreme:758,TheKeeperOfTheLake:150,TheLabyrinthOfTheAncients:174,TheLimitlessBlueExtreme:447,TheLimitlessBlueHard:436,TheLochs:621,TheLostAndTheFound:874,TheLostCanalsOfUznair:712,TheLostCityOfAmdapor:363,TheLostCityOfAmdaporHard:519,TheMinstrelsBalladHadessElegy:885,TheMinstrelsBalladNidhoggsRage:566,TheMinstrelsBalladShinryusDomain:730,TheMinstrelsBalladThordansReign:448,TheMinstrelsBalladTsukuyomisPain:779,TheMinstrelsBalladUltimasBane:348,TheNavel:206,TheNavelExtreme:296,TheNavelHard:293,TheNavelUnreal:953,TheOrbonneMonastery:826,TheOrphansAndTheBrokenBlade:715,ThePalaceOfTheDeadFloors101_110:598,ThePalaceOfTheDeadFloors111_120:599,ThePalaceOfTheDeadFloors11_20:562,ThePalaceOfTheDeadFloors121_130:600,ThePalaceOfTheDeadFloors131_140:601,ThePalaceOfTheDeadFloors141_150:602,ThePalaceOfTheDeadFloors151_160:603,ThePalaceOfTheDeadFloors161_170:604,ThePalaceOfTheDeadFloors171_180:605,ThePalaceOfTheDeadFloors181_190:606,ThePalaceOfTheDeadFloors191_200:607,ThePalaceOfTheDeadFloors1_10:561,ThePalaceOfTheDeadFloors21_30:563,ThePalaceOfTheDeadFloors31_40:564,ThePalaceOfTheDeadFloors41_50:565,ThePalaceOfTheDeadFloors51_60:593,ThePalaceOfTheDeadFloors61_70:594,ThePalaceOfTheDeadFloors71_80:595,ThePalaceOfTheDeadFloors81_90:596,ThePalaceOfTheDeadFloors91_100:597,ThePeaks:620,ThePillars:419,ThePoolOfTribute:674,ThePoolOfTributeExtreme:677,ThePraetorium:224,ThePuppetsBunker:917,TheQitanaRavel:823,TheRaktikaGreatwood:817,TheResonant:684,TheRidoranaLighthouse:776,TheRoyalCityOfRabanastre:734,TheRoyalMenagerie:679,TheRubySea:613,TheSeaOfClouds:401,TheSeatOfSacrifice:922,TheSeatOfSacrificeExtreme:923,TheSecondCoilOfBahamutSavageTurn1:380,TheSecondCoilOfBahamutSavageTurn2:381,TheSecondCoilOfBahamutSavageTurn3:382,TheSecondCoilOfBahamutSavageTurn4:383,TheSecondCoilOfBahamutTurn1:355,TheSecondCoilOfBahamutTurn2:356,TheSecondCoilOfBahamutTurn3:357,TheSecondCoilOfBahamutTurn4:358,TheShiftingAltarsOfUznair:794,TheShiftingOubliettesOfLyheGhiah:924,TheSingularityReactor:437,TheSirensongSea:626,TheStepsOfFaith:143,TheStoneVigil:168,TheStoneVigilHard:365,TheStrikingTreeExtreme:375,TheStrikingTreeHard:374,TheSunkenTempleOfQarn:163,TheSunkenTempleOfQarnHard:367,TheSwallowsCompass:768,TheTamTaraDeepcroft:164,TheTamTaraDeepcroftHard:373,TheTempest:818,TheTempleOfTheFist:663,TheThousandMawsOfTotoRak:169,TheTripleTriadBattlehall:579,TheTwinning:840,TheUnendingCoilOfBahamutUltimate:733,TheValentionesCeremony:741,TheVault:421,TheVoidArk:508,TheWanderersPalace:159,TheWanderersPalaceHard:188,TheWeaponsRefrainUltimate:777,TheWeepingCityOfMhach:556,TheWhorleaterExtreme:359,TheWhorleaterHard:281,TheWillOfTheMoon:797,TheWorldOfDarkness:151,TheWreathOfSnakes:824,TheWreathOfSnakesExtreme:825,ThokAstThokExtreme:446,ThokAstThokHard:432,ThornmarchExtreme:364,ThornmarchHard:207,TripleTriadInvitationalParlor:941,TripleTriadOpenTournament:940,UldahStepsOfNald:130,UldahStepsOfThal:131,UnderTheArmor:190,UpperLaNoscea:139,UrthsFount:394,VowsOfVirtueDeedsOfCruelty:893,WardUp:299,WesternLaNoscea:138,WesternThanalan:140,WhenClansCollide:723,WithHeartAndSteel:707,WolvesDenPier:250,Xelphatol:572,Yanxia:614}},997:(e,t,a)=>{var n=a(436);class i{constructor(){this.onPartyChanged({party:[]})}onPartyChanged(e){if(e&&e.party){this.details=e.party,this.partyNames_=[],this.partyIds_=[],this.allianceNames_=[],this.allianceIds_=[],this.nameToRole_={},this.idToName_={},this.roleToPartyNames_={};for(const e of n.Z.getAllRoles())this.roleToPartyNames_[e]=[];for(const t of e.party){this.allianceIds_.push(t.id),this.allianceNames_.push(t.name);const e=n.Z.jobEnumToJob(t.job),a=n.Z.jobToRole(e);this.idToName_[t.id]=t.name,this.nameToRole_[t.name]=a,t.inParty&&(this.partyIds_.push(t.id),this.partyNames_.push(t.name),this.roleToPartyNames_[a].push(t.name))}}}get partyNames(){return this.partyNames_}get partyIds(){return this.partyIds_}get allianceNames(){return this.allianceNames_}get tankNames(){return this.roleToPartyNames_.tank}get healerNames(){return this.roleToPartyNames_.healer}get dpsNames(){return this.roleToPartyNames_.dps}isRole(e,t){return this.nameToRole_[e]===t}isTank(e){return this.isRole(e,"tank")}isHealer(e){return this.isRole(e,"healer")}isDPS(e){return this.isRole(e,"dps")}inParty(e){return this.partyNames.includes(e)}inAlliance(e){return this.allianceNames.includes(e)}otherTank(e){const t=this.tankNames;return 2!==t.length?null:t[0]===e?t[1]:t[1]===e?t[0]:null}otherHealer(e){const t=this.roleToPartyNames.healer;return 2!==t.length?null:t[0]===e?t[1]:t[1]===e?t[0]:null}jobName(e){const t=this.partyNames.indexOf(e);return t>=0?n.Z.jobEnumToJob(this.details[t].job):null}nameFromId(e){return this.idToName_[e]}}var r=a(200),s=a(59),o=a(509),l=a(368);const d={PlayerNicks:{},InfoSound:"../../resources/sounds/freesound/percussion_hit.ogg",AlertSound:"../../resources/sounds/BigWigs/Alert.ogg",AlarmSound:"../../resources/sounds/BigWigs/Alarm.ogg",LongSound:"../../resources/sounds/BigWigs/Long.ogg",PullSound:"../../resources/sounds/freesound/sonar.ogg",AudioAllowed:!0,DisabledTriggers:{},PerTriggerOptions:{},Triggers:[],PlayerNameOverride:null,IsRemoteRaidboss:!1},c="Output",u="Duration",h="BeforeSeconds",p="OutputStrings",g={default:{label:{en:"‚úî Defaults",de:"‚úî Standards",fr:"‚úî D√©fauts",ja:"‚úî ÂàùÊúüË®≠ÂÆö",cn:"‚úî ÈªòËÆ§ËÆæÁΩÆ",ko:"‚úî Í∏∞Î≥∏"}},textAndSound:{label:{en:"üÜôüîä Text and Sound",de:"üÜôüîä Text und Ton",fr:"üÜôüîä Texte et son",ja:"üÜôüîä „ÉÜ„Ç≠„Çπ„Éà„Å®Èü≥Â£∞",cn:"üÜôüîä ÊñáÂ≠óÊòæÁ§∫‰∏éÊèêÁ§∫Èü≥",ko:"üÜôüîä ÌÖçÏä§Ìä∏ÏôÄ ÏÜåÎ¶¨"}},ttsAndText:{label:{en:"üÜôüí¨ Text and TTS",de:"üÜôüí¨ Text und TTS",fr:"üÜôüí¨ Texte et TTS",ja:"üÜôüí¨ „ÉÜ„Ç≠„Çπ„Éà„Å®TTS",cn:"üÜôüí¨ ÊñáÂ≠óÊòæÁ§∫‰∏éTTS",ko:"üÜôüí¨ ÌÖçÏä§Ìä∏ÏôÄ TTS"}},ttsOnly:{label:{en:"üí¨ TTS Only",de:"üí¨ Nur TTS",fr:"üí¨ TTS Seulement",ja:"üí¨ TTS„ÅÆ„Åø",cn:"üí¨ Âè™‰ΩøÁî®TTS",ko:"üí¨ TTSÎßå"}},textOnly:{label:{en:"üÜô Text Only",de:"üÜô Nur Text",fr:"üÜô Texte seulement",ja:"üÜô „ÉÜ„Ç≠„Çπ„Éà„ÅÆ„Åø",cn:"üÜô Âè™‰ΩøÁî®ÊñáÂ≠óÊòæÁ§∫",ko:"üÜô ÌÖçÏä§Ìä∏Îßå"}},disabled:{label:{en:"‚ùå Disabled",de:"‚ùå Deaktiviert",fr:"‚ùå D√©sactiv√©",ja:"‚ùå ÁÑ°Âäπ",cn:"‚ùå Á¶ÅÁî®",ko:"‚ùå ÎπÑÌôúÏÑ±Ìôî"}}},m={triggerRegex:{label:{en:"regex",de:"regex",fr:"regex",ja:"Ê≠£Ë¶èË°®Áèæ",cn:"Ê≠£ÂàôË°®ËææÂºè",ko:"Ï†ïÍ∑úÏãù"},cls:"regex-text",debugOnly:!0},triggerNetRegex:{label:{en:"netregex",de:"netregex",fr:"netregex",ja:"„Éç„ÉÉ„ÉàÊ≠£Ë¶èË°®Áèæ",cn:"ÁΩëÁªúÊó•ÂøóÊ≠£ÂàôË°®ËææÂºè"},cls:"regex-text",debugOnly:!0},timelineRegex:{label:{en:"timeline",de:"timeline",fr:"timeline",ja:"„Çø„Ç§„É†„É©„Ç§„É≥",cn:"Êó∂Èó¥ËΩ¥",ko:"ÌÉÄÏûÑÎùºÏù∏"},cls:"regex-text",debugOnly:!0},beforeSeconds:{label:{en:"before (sec)",de:"Vorher (Sekunden)",fr:"avant (seconde)",ja:"„Åù„ÅÆÂâç„Å´ (Áßí)",cn:"ÊèêÂâç (Áßí)"},cls:"before-seconds-text",generatedManually:!0},condition:{label:{en:"condition",de:"condition",fr:"condition",ja:"Êù°‰ª∂",cn:"Êù°‰ª∂",ko:"Ï°∞Í±¥"},cls:"condition-text",debugOnly:!0},duration:{label:{en:"duration (sec)",de:"Dauer (Sekunden)",fr:"Dur√©e (secondes)",ja:"Â≠òÁ∂öÊôÇÈñì (Áßí)",cn:"ÊåÅÁª≠Êó∂Èó¥ (Áßí)",ko:"ÏßÄÏÜç ÏãúÍ∞Ñ (Ï¥à)"},cls:"duration-text",generatedManually:!0},preRun:{label:{en:"preRun",de:"preRun",fr:"preRun",ja:"„Éó„É¨ÂÆüË°å",cn:"È¢ÑËøêË°å",ko:"ÏÇ¨Ï†Ñ Ïã§Ìñâ"},cls:"prerun-text",debugOnly:!0},alarmText:{label:{en:"alarm",de:"alarm",fr:"alarme",ja:"Ë≠¶Â†±",cn:"Ë≠¶Êä•ÊñáÊú¨",ko:"Í≤ΩÍ≥†"},cls:"alarm-text"},alertText:{label:{en:"alert",de:"alert",fr:"alerte",ja:"Ë≠¶Âëä",cn:"Ë≠¶ÂëäÊñáÊú¨",ko:"Ï£ºÏùò"},cls:"alert-text"},infoText:{label:{en:"info",de:"info",fr:"info",ja:"ÊÉÖÂ†±",cn:"‰ø°ÊÅØÊñáÊú¨",ko:"ÏïàÎÇ¥"},cls:"info-text"},tts:{label:{en:"tts",de:"tts",fr:"tts",ja:"TTS",cn:"TTS",ko:"tts"},cls:"tts-text"},sound:{label:{en:"sound",de:"sound",fr:"son",ja:"Èü≥Â£∞",cn:"ÊèêÁ§∫Èü≥",ko:"ÏÜåÎ¶¨"},cls:"sound-text"},run:{label:{en:"run",de:"run",fr:"run",ja:"ÂÆüË°å",cn:"ËøêË°å",ko:"Ïã§Ìñâ"},cls:"run-text",debugOnly:!0}},f={en:"(default)",de:"(Standard)",fr:"(D√©faut)",ja:"(ÂàùÊúüÂÄ§)",cn:"(ÈªòËÆ§ÂÄº)",ko:"(Í∏∞Î≥∏Í∞í)"},T=e=>{if(e=parseFloat(e),!isNaN(e)&&e>=0)return e};function y(e,t){"default"===t||("textAndSound"===t?(e.TextAlertsEnabled=!0,e.SoundAlertsEnabled=!0,e.SpokenAlertsEnabled=!1):"ttsAndText"===t?(e.TextAlertsEnabled=!0,e.SoundAlertsEnabled=!0,e.SpokenAlertsEnabled=!0):"ttsOnly"===t?(e.TextAlertsEnabled=!1,e.SoundAlertsEnabled=!0,e.SpokenAlertsEnabled=!0):"textOnly"===t?(e.TextAlertsEnabled=!0,e.SoundAlertsEnabled=!1,e.SpokenAlertsEnabled=!1):"disabled"===t?(e.TextAlertsEnabled=!1,e.SoundAlertsEnabled=!1,e.SpokenAlertsEnabled=!1):console.error("unknown output type: "+t))}class b{constructor(e){return new Proxy(this,{set(t,a,n){if("responseOutputStrings"===a)return e(n),!0},get:(e,t)=>()=>{}})}}class k{constructor(e){this.base=e,this.alertsLang=this.base.getOption("raidboss","AlertsLanguage",this.base.lang),this.timelineLang=this.base.getOption("raidboss","TimelineLanguage",this.base.lang)}buildUI(e,t,a){const n=this.processRaidbossFiles(t,a),i={};for(const t in n){const a=n[t],r=a.section;if(0===Object.keys(a.triggers).length)continue;if(!i[r]){const t=document.createElement("div");t.classList.add("trigger-expansion-container","collapsed"),e.appendChild(t);const a=document.createElement("div");a.classList.add("trigger-expansion-header"),a.onclick=()=>{t.classList.toggle("collapsed")},a.innerText=r,t.appendChild(a),i[r]=t}const o=document.createElement("div");o.classList.add("trigger-file-container","collapsed"),i[r].appendChild(o);const l=document.createElement("div");l.classList.add("trigger-file-header"),l.onclick=()=>{o.classList.toggle("collapsed")};const d=[a.title,a.type,a.prefix];for(let e=0;e<d.length;++e){if(!d[e])continue;const t=document.createElement("div");t.classList.add("trigger-file-header-part"),t.innerText=d[e],l.appendChild(t)}o.appendChild(l);const c=document.createElement("div");c.classList.add("trigger-file-options"),o.appendChild(c);for(const e in a.triggers){const t=a.triggers[e];let n=!1;for(const e of s.ug)if(t[e]){n=!0;break}if(!n&&!this.base.developerOptions)continue;const i=document.createElement("div");i.innerHTML=t.isMissingId?"(???)":t.id,i.classList.add("trigger"),c.appendChild(i);const r=document.createElement("div");r.classList.add("trigger-details"),c.appendChild(r),t.isMissingId||r.appendChild(this.buildTriggerOptions(t,i));for(const e in m){if(m[e].generatedManually)continue;if(!this.base.developerOptions&&m[e].debugOnly)continue;if(!t[e]&&!t.output[e])continue;const a=document.createElement("div");a.innerText=this.base.translate(m[e].label),a.classList.add("trigger-label"),r.appendChild(a);const n=document.createElement("div");n.classList.add("trigger-detail"),t.output[e],n.classList.add(m[e].cls),t.output[e]?n.innerText=t.output[e]:"function"==typeof t[e]?(n.innerText="(function)",n.classList.add("function-text")):n.innerText=t[e],r.appendChild(n)}if(t.isMissingId)continue;if(t.isTimelineTrigger){const e="beforeSeconds",a=h,n=document.createElement("div");n.innerText=this.base.translate(m[e].label),n.classList.add("trigger-label"),r.appendChild(n);const i=document.createElement("div");i.classList.add("option-input-container","trigger-before-seconds");const s=document.createElement("input");i.appendChild(s),s.type="text",s.step="any";let o=f;void 0===t.beforeSeconds?o=0:"number"==typeof t.beforeSeconds&&(o=t.beforeSeconds),s.placeholder=this.base.translate(o),s.value=this.base.getOption("raidboss","triggers",t.id,a,"");const l=()=>{const e=T(s.value)||"";this.base.setOption("raidboss","triggers",t.id,a,e)};s.onchange=l,s.oninput=l,r.appendChild(i)}if(n){const e="duration",a=u,n=document.createElement("div");n.innerText=this.base.translate(m[e].label),n.classList.add("trigger-label"),r.appendChild(n);const i=document.createElement("div");i.classList.add("option-input-container","trigger-duration");const s=document.createElement("input");i.appendChild(s),s.type="text",s.step="any",s.placeholder=this.base.translate(f),s.value=this.base.getOption("raidboss","triggers",t.id,a,"");const o=()=>{const e=T(s.value)||"";this.base.setOption("raidboss","triggers",t.id,a,e)};s.onchange=o,s.oninput=o,r.appendChild(i)}const o=t.outputStrings||{};for(const e in o){const a=p,n=this.base.translate(o[e]),i=document.createElement("div");i.innerText=e,i.classList.add("trigger-outputstring-label"),r.appendChild(i);const s=document.createElement("div");s.classList.add("option-input-container","trigger-outputstring");const l=document.createElement("input");s.appendChild(l),l.type="text",l.placeholder=n,l.value=this.base.getOption("raidboss","triggers",t.id,a,e,"");const d=()=>this.base.setOption("raidboss","triggers",t.id,a,e,l.value);l.onchange=d,l.oninput=d,r.appendChild(s)}}}}valueOrFunction(e,t,a,n){const i="function"==typeof e?e(t,a,n):e;return i!==Object(i)?i:i[this.alertsLang]?this.valueOrFunction(i[this.alertsLang]):i[this.timelineLang]?this.valueOrFunction(i[this.timelineLang]):this.valueOrFunction(i.en)}processTrigger(e){e.output=new b((t=>{e.outputStrings=e.outputStrings||{},Object.assign(e.outputStrings,t)}));const t={party:new i,lang:this.base.lang,currentHP:1e3,options:this.base.configOptions,ShortName:e=>e,StopCombat:()=>{},ParseLocaleFloat:parseFloat,CanStun:()=>n.Z.canStun(this.job),CanSilence:()=>n.Z.canSilence(this.job),CanSleep:()=>n.Z.canSleep(this.job),CanCleanse:()=>n.Z.canCleanse(this.job),CanFeint:()=>n.Z.canFeint(this.job),CanAddle:()=>n.Z.canAddle(this.job)},a=[{me:"Tini Poutini",job:"GNB",role:"tank"},{me:"Potato Chippy",job:"WHM",role:"healer"},{me:"Tater Tot",job:"BLM",role:"dps"},{me:"Hash Brown",job:"DRG",role:"dps"},{me:"Aloo Gobi",job:"BLU",role:"dps"}];for(let e=0;e<a.length;++e)a[e]=Object.assign({},a[e],t);const s={1:a[0].me,sourceId:"41234567",source:"Enemy",id:"1234",ability:"Ability",targetId:"1234567",target:a[0].me,flags:"",x:100,y:100,z:0,heading:0,npcId:void 0,effect:"Effect",duration:30,code:"00",line:"",name:"Name",capture:!0},o={},l=["alarmText","alertText","infoText","tts","sound"],d=(e,t,n)=>{try{const i=this.valueOrFunction(e[t],a[n],s,e.output);return!(!i||i.includes("undefined")||i.includes("NaN")||(o[t]=i,0))}catch(e){return!1}};if(e.response){const t=e.response;for(let n=0;n<a.length;++n)try{let i=t;for(;"function"==typeof i;)i=i(a[n],s,e.output);if(!i)continue;if(!e.outputStrings)for(const e of l)d(i,e,n);break}catch(e){continue}}if(!e.outputStrings)for(const t of l)if(e[t])for(let n=0;n<a.length&&!d(e,t,n);++n);e.output=o;const c=this.base.lang,u=t=>{const a=c.charAt(0).toUpperCase()+c.slice(1),n=e[t+a]||e[t];if(!n)return;const i=r.Z.parse(n);return i?r.Z.parse(i):void 0};return e.isTimelineTrigger?e.timelineRegex=u("regex"):(e.triggerRegex=u("regex"),e.triggerNetRegex=u("netRegex")),e}processRaidbossFiles(e,t){const a=this.base.processFiles(e,t.Triggers);let n=0;for(const[e,t]of Object.entries(a)){const e={trigger:[],timeline:[]},a=t.triggerSet;a.triggers&&e.trigger.push(...a.triggers),a.timelineTriggers&&e.timeline.push(...a.timelineTriggers),t.triggers={};for(const a in e)for(const i of e[a])n++,i.id||(i.id=`!!NoIdTrigger${n}`,i.isMissingId=!0),i.isTimelineTrigger="timeline"===a,t.triggers[i.id]=this.processTrigger(i)}return a}buildTriggerOptions(e,t){const a=c,n=document.createElement("div");n.classList.add("trigger-options");const i=e=>{"hidden"===e.value||"disabled"===e.value?t.classList.add("disabled"):t.classList.remove("disabled")},r=document.createElement("select");n.appendChild(r);const s=this.base.getOption("raidboss","triggers",e.id,a,"default");for(const t in g){if(!this.base.developerOptions&&g[t].debugOnly&&t!==s)continue;const n=document.createElement("option");n.innerHTML=this.base.translate(g[t].label),n.value=t,n.selected=t===s,r.appendChild(n),i(r),r.onchange=()=>{i(r);let t=r.value;t.includes("default")&&(t="default"),this.base.setOption("raidboss","triggers",e.id,a,r.value)}}return n}}const x={buildExtraUI:(e,t)=>{const a=new k(e),n={...d};o.Z.loadUserFiles("raidboss",n,(()=>{a.buildUI(t,l.Z,n)}))},processExtraOptions:(e,t)=>{const a="PerTriggerAutoConfig";e[a]=e[a]||{};const n=t.triggers;if(!n)return;const i=e[a],r={},s=Object.keys(g);for(const e of s)r[e]={},y(r[e],e);for(const e in n){const t={},a=n[e].Output;a&&Object.assign(t,r[a]);const s=T(n[e].Duration);s&&(t.Duration=s);const o=T(n[e].BeforeSeconds);o&&(t.BeforeSeconds=o);const l=n[e].OutputStrings;l&&(t.OutputStrings=l),(a||s||l)&&(i[e]=t)}},options:[{id:"Debug",name:{en:"Enable debug mode",de:"Aktiviere Debugmodus",fr:"Activer le mode debug",ja:"„Éá„Éê„ÉÉ„Ç∞„É¢„Éº„Éâ„ÇíÊúâÂäπ„Å´„Åô„Çã",cn:"ÂêØÁî®Ë∞ÉËØïÊ®°Âºè",ko:"ÎîîÎ≤ÑÍ∑∏ Î™®Îìú ÌôúÏÑ±Ìôî"},type:"checkbox",debugOnly:!0},{id:"DefaultAlertOutput",name:{en:"Default alert output",de:"Standard Alert Ausgabe",fr:"Alerte par d√©faut",ja:"Ë≠¶ÂëäÊÉÖÂ†±Âá∫ÂäõÊó¢ÂÆöÂÄ§",cn:"ÈªòËÆ§Ë≠¶Êä•ÊèêÁ§∫‰ø°ÊÅØËæìÂá∫ÊñπÂºè",ko:"Í∏∞Î≥∏ ÏïåÎûå Ï∂úÎ†• Î∞©Ïãù"},type:"select",options:{en:{"üÜôüîä Text and Sound":"textAndSound","üÜôüí¨ Text and TTS":"ttsAndText","üí¨ TTS Only":"ttsOnly","üÜô Text Only":"textOnly","‚ùå Disabled":"disabled"},de:{"üÜôüîä Text und Ton":"textAndSound","üÜôüí¨ Text und TTS":"ttsAndText","üí¨ Nur TTS":"ttsOnly","üÜô Nur Text":"textOnly","‚ùå Deaktiviert":"disabled"},fr:{"üÜôüîä Texte et son":"textAndSound","üÜôüí¨ Texte et TTS":"ttsAndText","üí¨ TTS seulement":"ttsOnly","üÜô Texte seulement":"textOnly","‚ùå D√©sactiv√©":"disabled"},ja:{"üÜôüîä „ÉÜ„Ç≠„Çπ„Éà„Å®Èü≥Â£∞":"textAndSound","üÜôüí¨ „ÉÜ„Ç≠„Çπ„Éà„Å®TTS":"ttsAndText","üí¨ TTS„ÅÆ„Åø":"ttsOnly","üÜô „ÉÜ„Ç≠„Çπ„Éà„ÅÆ„Åø":"textOnly","‚ùå ÁÑ°Âäπ":"disabled"},cn:{"üÜôüîä ÊñáÂ≠óÊòæÁ§∫‰∏éÊèêÁ§∫Èü≥":"textAndSound","üÜôüí¨ ÊñáÂ≠óÊòæÁ§∫‰∏éTTS":"ttsAndText","üí¨ Âè™‰ΩøÁî®TTS":"ttsOnly","üÜô Âè™‰ΩøÁî®ÊñáÂ≠óÊòæÁ§∫":"textOnly","‚ùå Á¶ÅÁî®":"disabled"},ko:{"üÜôüîä ÌÖçÏä§Ìä∏ÏôÄ ÏÜåÎ¶¨":"textAndSound","üÜôüí¨ ÌÖçÏä§Ìä∏ÏôÄ TTS":"ttsAndText","üí¨ TTSÎßå":"ttsOnly","üÜô ÌÖçÏä§Ìä∏Îßå":"textOnly","‚ùå ÎπÑÌôúÏÑ±Ìôî":"disabled"}},default:"textAndSound",setterFunc:y},{id:"AlertsLanguage",name:{en:"Alerts language",de:"Alert Sprache",fr:"Langue des alertes",ja:"Ë≠¶ÂëäÊÉÖÂ†±„ÅÆË®ÄË™û",cn:"Ë≠¶Êä•ÊèêÁ§∫ÊñáÂ≠óÁöÑËØ≠Ë®Ä",ko:"ÏïåÎûå Ïñ∏Ïñ¥"},type:"select",options:{en:{"Use Display Language":"default","English (en)":"en","Chinese (cn)":"cn","German (de)":"de","French (fr)":"fr","Japanese (ja)":"ja","Korean (ko)":"ko"},fr:{"Utiliser la langue d'affichage":"default","Anglais (en)":"en","Chinois (cn)":"cn","Allemand (de)":"de","Fran√ßais (fr)":"fr","Japonais (ja)":"ja","Cor√©en (ko)":"ko"},ja:{Ë°®Á§∫Ë®ÄË™ûÊó¢ÂÆöÂÄ§:"default","Ëã±Ë™û (en)":"en","‰∏≠ÂõΩË™û (cn)":"cn","„Éâ„Ç§„ÉÑË™û (de)":"de","„Éï„É©„É≥„ÇπË™û (fr)":"fr","Êó•Êú¨Ë™û (ja)":"ja","ÈüìÂõΩË™û (ko)":"ko"},cn:{‰ΩøÁî®ÊòæÁ§∫ËØ≠Ë®Ä:"default","Ëã±ËØ≠ (en)":"en","Ê±âËØ≠ (cn)":"cn","Âæ∑ËØ≠ (de)":"de","Ê≥ïËØ≠ (fr)":"fr","Êó•ËØ≠ (ja)":"ja","Èü©ËØ≠ (ko)":"ko"},ko:{"Ï£º ÏÇ¨Ïö© Ïñ∏Ïñ¥ ÏÇ¨Ïö©":"default","ÏòÅÏñ¥ (en)":"en","Ï§ëÍµ≠Ïñ¥ (cn)":"cn","ÎèÖÏùºÏñ¥ (de)":"de","ÌîÑÎûëÏä§Ïñ¥ (fr)":"fr","ÏùºÎ≥∏Ïñ¥ (ja)":"ja","ÌïúÍµ≠Ïñ¥ (ko)":"ko"}},default:"default",debug:!0,setterFunc:(e,t)=>{"default"!==t&&(e.AlertsLanguage=t)}},{id:"TimelineLanguage",name:{en:"Timeline language",de:"Timeline Sprache",fr:"Langue de la timeline",ja:"„Çø„Ç§„É†„É©„Ç§„É≥„ÅÆË®ÄË™û",cn:"Êó∂Èó¥ËΩ¥ÊñáÊú¨ÁöÑËØ≠Ë®Ä",ko:"ÌÉÄÏûÑÎùºÏù∏ Ïñ∏Ïñ¥"},type:"select",options:{en:{"Use FFXIV Plugin Language":"default","English (en)":"en","Chinese (cn)":"cn","German (de)":"de","French (fr)":"fr","Japanese (ja)":"ja","Korean (ko)":"ko"},de:{"Benutze FFXIV Plugin Sprache":"default","Englisch (en)":"en","Chinesisch (cn)":"cn","Deutsch (de)":"de","Franz√∂sisch (fr)":"fr","Japanisch (ja)":"ja","Koreanisch (ko)":"ko"},fr:{"Utiliser la langue du Plugin FFXIV":"default","Anglais (en)":"en","Chinois (cn)":"cn","Allemand (de)":"de","Fran√ßais (fr)":"fr","Japonais (ja)":"ja","Cor√©en (ko)":"ko"},ja:{"FFXIV Plugin„ÅÆË®ÄË™ûË®≠ÂÆö":"default","Ëã±Ë™û (en)":"en","‰∏≠ÂõΩË™û (cn)":"cn","„Éâ„Ç§„ÉÑË™û (de)":"de","„Éï„É©„É≥„ÇπË™û (fr)":"fr","Êó•Êú¨Ë™û (ja)":"ja","ÈüìÂõΩË™û (ko)":"ko"},cn:{‰ΩøÁî®ÊúÄÁªàÂπªÊÉ≥XIVËß£ÊûêÊèí‰ª∂ËÆæÁΩÆÁöÑËØ≠Ë®Ä:"default","Ëã±ËØ≠ (en)":"en","Ê±âËØ≠ (cn)":"cn","Âæ∑ËØ≠ (de)":"de","Ê≥ïËØ≠ (fr)":"fr","Êó•ËØ≠ (ja)":"ja","Èü©ËØ≠ (ko)":"ko"},ko:{"FFXIV Plugin Ïñ∏Ïñ¥ ÏÇ¨Ïö©":"default","ÏòÅÏñ¥ (en)":"en","Ï§ëÍµ≠Ïñ¥ (cn)":"cn","ÎèÖÏùºÏñ¥ (de)":"de","ÌîÑÎûëÏä§Ïñ¥ (fr)":"fr","ÏùºÎ≥∏Ïñ¥ (ja)":"ja","ÌïúÍµ≠Ïñ¥ (ko)":"ko"}},default:"default",debug:!0,setterFunc:(e,t)=>{"default"!==t&&(e.TimelineLanguage=t)}},{id:"Skin",name:{en:"Raidboss Skin",de:"Raidboss Skin",fr:"Raidboss Skin",ja:"Raidboss„ÅÆ„Çπ„Ç≠„É≥",cn:"RaidbossÁöÆËÇ§",ko:"Raidboss Ïä§ÌÇ®"},type:"select",options:{en:{Default:"default",lippe:"lippe"},de:{Default:"default",lippe:"lippe"},fr:{D√©faut:"default",lippe:"lippe"},ja:{ÂàùÊúüË®≠ÂÆö:"default",lippe:"lippe"},cn:{ÈªòËÆ§:"default",lippe:"lippe"},ko:{Í∏∞Î≥∏:"default",lippe:"lippe"}},default:"default"},{id:"TimelineEnabled",name:{en:"Timeline enabled",de:"Timeline aktiviert",fr:"Timeline activ√©e",ja:"„Çø„Ç§„É†„É©„Ç§„É≥„ÇíÊúâÂäπ„Å´„Åô„Çã",cn:"ÂêØÁî®Êó∂Èó¥ËΩ¥",ko:"ÌÉÄÏûÑÎùºÏù∏ ÌôúÏÑ±Ìôî"},type:"checkbox",default:!0},{id:"AlertsEnabled",name:{en:"Alerts enabled",de:"Alerts aktiviert",fr:"Alertes activ√©es",ja:"Ë≠¶ÂëäÊÉÖÂ†±„ÇíÊúâÂäπ„Å´„Åô„Çã",cn:"ÂêØÁî®ÊèêÁ§∫ÊñáÊú¨ÊòæÁ§∫",ko:"ÏïåÎûå ÌôúÏÑ±Ìôî"},type:"checkbox",default:!0},{id:"ShowTimerBarsAtSeconds",name:{en:"Timer bar show window (seconds)",de:"Timer-Bar Anzeigedauer (in Sekunden)",fr:"Fen√™tre d'affichage de la barre de temps (secondes)",ja:"„Çø„Ç§„É†„Éê„Éº„Å´ÊôÇÈñìË°®Á§∫ (Áßí)",cn:"ËÆ°Êó∂Êù°ÊòæÁ§∫Êó∂Èïø (Áßí)",ko:"ÌÉÄÏûÑÎùºÏù∏ÏùÑ ÌëúÏãúÌï† Í∏∞Ï§Ä ÏãúÍ∞Ñ (Ï¥à Ïù¥Ìïò)"},type:"float",default:30},{id:"KeepExpiredTimerBarsForSeconds",name:{en:"Keep expired timer bar (seconds)",de:"Behalte abgelaufene Timer-Bar (in Sekunden)",fr:"Garder la barre de temps expir√©e (secondes)",ja:"ÁµÇ‰∫Ü„Åó„Åü„Çø„Ç§„É†„Éê„Éº„ÅåÊ∂à„Åà„Çã„Åæ„Åß„ÅÆÂæÖ„Å°ÊôÇÈñì (Áßí)",cn:"Â∑≤Â§±ÊïàÁöÑËÆ°Êó∂Êù°ÁöÑÊ∑°Âá∫Êó∂Èó¥ (Áßí)",ko:"ÎßåÎ£åÎêú ÌÉÄÏûÑÎùºÏù∏Ïù¥ ÏÇ¨ÎùºÏßÄÍ∏∞ÍπåÏßÄÏùò ÏãúÍ∞Ñ (Ï¥à)"},type:"float",default:.7},{id:"BarExpiresSoonSeconds",name:{en:"Time to recolor timer as expiring soon (seconds)",de:"Zeit bis ein bald auslaufender Timer umgef√§rbt wird (in Sekunden)",fr:"Recolorisation de la barre de temps avant expiration (secondes)",ja:"„Çø„Ç§„É†„Éê„Éº„ÅåÁµÇ‰∫ÜÂâç„Å´ÂÜçÂ∫¶Ëâ≤‰ªò„Åë„ÅÆÊÆã„ÇäÊôÇÈñì (Áßí)",cn:"ÂÄíËÆ°Êó∂Â∞è‰∫éËØ•ÂÄºÊó∂ÂΩìÂâçËÆ°Êó∂Êù°ÂèòËâ≤ (Áßí)",ko:"ÌÉÄÏûÑÎùºÏù∏Ïùò ÏÉâÏÉÅÏùÑ Î∞îÍøÄ Í∏∞Ï§Ä ÏãúÍ∞Ñ (Ï¥à Ïù¥Ìïò)"},type:"integer",default:6},{id:"MaxNumberOfTimerBars",name:{en:"Max number of timer bars",de:"Max Anzahl an Timer-Bars",fr:"Nombre max de barres de temps",ja:"„Çø„Ç§„É†„Éê„Éº„ÅÆÊúÄÂ§ßÊï∞",cn:"ËÆ°Êó∂Êù°ÊúÄÂ§ßÊï∞Èáè",ko:"ÌëúÏãúÌï† ÌÉÄÏûÑÎùºÏù∏Ïùò ÏµúÎåÄ Í∞úÏàò"},type:"integer",default:6},{id:"DisplayAlarmTextForSeconds",name:{en:"Alarm text display duration (seconds)",de:"Alarm-Text Anzeigedauer (in Sekunden)",fr:"Dur√©e d'affichage du texte d'alarme (secondes)",ja:"Ë≠¶Â†±„ÉÜ„Ç≠„Çπ„ÉàË°®Á§∫ÊôÇÈñì„ÅÆÈï∑„Åï (Áßí)",cn:"Ë≠¶Êä•ÊñáÂ≠óÊòæÁ§∫ÊåÅÁª≠Êó∂Èó¥ (Áßí)",ko:"Í≤ΩÍ≥† ÌÖçÏä§Ìä∏Î•º ÌëúÏãúÌï† ÏãúÍ∞Ñ (Ï¥à)"},type:"float",default:3},{id:"DisplayAlertTextForSeconds",name:{en:"Alert text display duration (seconds)",de:"Alert-Text Anzeigedauer (in Sekunden)",fr:"Dur√©e d'affichage du texte d'alerte (secondes)",ja:"Ë≠¶Âëä„ÉÜ„Ç≠„Çπ„ÉàË°®Á§∫ÊôÇÈñì„ÅÆÈï∑„Åï (Áßí)",cn:"Ë≠¶ÂëäÊñáÂ≠óÊòæÁ§∫ÊåÅÁª≠Êó∂Èó¥ (Áßí)",ko:"Ï£ºÏùò ÌÖçÏä§Ìä∏Î•º ÌëúÏãúÌï† ÏãúÍ∞Ñ (Ï¥à)"},type:"float",default:3},{id:"DisplayInfoTextForSeconds",name:{en:"Info text display duration (seconds)",de:"Info-Text Anzeigedauer (in Sekunden)",fr:"Dur√©e d'affichage du texte d'information (secondes)",ja:"ÊÉÖÂ†±„ÉÜ„Ç≠„Çπ„ÉàË°®Á§∫ÊôÇÈñì„ÅÆÈï∑„Åï (Áßí)",cn:"‰ø°ÊÅØÊñáÂ≠óÊòæÁ§∫ÊåÅÁª≠Êó∂Èó¥ (Áßí)",ko:"ÏïàÎÇ¥ ÌÖçÏä§Ìä∏Î•º ÌëúÏãúÌï† ÏãúÍ∞Ñ (Ï¥à)"},type:"float",default:3},{id:"AlarmSoundVolume",name:{en:"Alarm sound volume (0-1)",de:"Alarm Lautst√§rke (0-1)",fr:"Volume de l'alarme (0-1)",ja:"Ë≠¶Â†±Èü≥Â£∞„ÅÆÈü≥Èáè (0-1)",cn:"Ë≠¶Êä•ÊèêÁ§∫Èü≥ÁöÑÈü≥Èáè (0-1)",ko:"Í≤ΩÍ≥† ÏÜåÎ¶¨ ÌÅ¨Í∏∞ (0-1)"},type:"float",default:1},{id:"AlertSoundVolume",name:{en:"Alert sound volume (0-1)",de:"Alert Lautst√§rke (0-1)",fr:"Volume de l'alerte (0-1)",ja:"Ë≠¶ÂëäÈü≥Â£∞„ÅÆÈü≥Èáè (0-1)",cn:"Ë≠¶ÂëäÊèêÁ§∫Èü≥ÁöÑÈü≥Èáè (0-1)",ko:"Ï£ºÏùò ÏÜåÎ¶¨ ÌÅ¨Í∏∞ (0-1)"},type:"float",default:1},{id:"InfoSoundVolume",name:{en:"Info sound volume (0-1)",de:"Info Lautst√§rke (0-1)",fr:"Volume de l'info (0-1)",ja:"ÊÉÖÂ†±Èü≥Â£∞„ÅÆÈü≥Èáè (0-1)",cn:"‰ø°ÊÅØÊèêÁ§∫Èü≥ÁöÑÈü≥Èáè (0-1)",ko:"ÏïàÎÇ¥ ÏÜåÎ¶¨ ÌÅ¨Í∏∞ (0-1)"},type:"float",default:1},{id:"LongSoundVolume",name:{en:"Long sound volume (0-1)",de:"Langer Ton Lautst√§rke (0-1)",fr:"Volume du son long (0-1)",ja:"Èï∑„ÅÑÈü≥Â£∞„ÅÆÈü≥Èáè (0-1)",cn:"ÈïøÊèêÁ§∫Èü≥ÁöÑÈü≥Èáè (0-1)",ko:"Í∏¥ ÏÜåÎ¶¨ ÌÅ¨Í∏∞ (0-1)"},type:"float",default:1},{id:"PullSoundVolume",name:{en:"Pull sound volume (0-1)",de:"Pull Lautst√§rke (0-1)",fr:"Volume du son de pull (0-1)",ja:"„Çø„Ç≤Âèñ„ÇãÂäπÊûúÈü≥„ÅÆÈü≥Èáè (0-1)",cn:"ÂºÄÊÄ™ÊèêÁ§∫Èü≥ÁöÑÈü≥Èáè (0-1)",ko:"ÌíÄÎßÅ ÏÜåÎ¶¨ ÌÅ¨Í∏∞ (0-1)"},type:"float",default:1},{id:"BrowserTTS",name:{en:"Use Browser for Text to Speech",de:"Verwenden Sie den Browser f√ºr Text zu Sprache",fr:"Utiliser le navigateur pour la synth√®se vocale",ja:"„Éñ„É©„Ç¶„Ç∂„ÅßTTS",cn:"ÂøΩÁï•ACTÁöÑËÆæÁΩÆÔºå‰ΩøÁî®CactbotËá™Â∏¶ÁöÑGoogle TTSÂäüËÉΩÔºàÈúÄËÅîÁΩëÔºâ",ko:"ÏõπÎ∏åÎùºÏö∞Ï†ÄÎ•º Ïù¥Ïö©Ìï¥ÏÑú TTS ÏûëÎèôÏãúÌÇ§Í∏∞"},type:"checkbox",default:!1},{id:"cactbotWormholeStrat",name:{en:"Alex Ultimate: enable cactbot Wormhole strat",de:"Alex Ultimate: aktiviere cactbot Wormhole Strategie",fr:"Alex fatal : activer cactbot pour Wormhole strat",ja:"Áµ∂„Ç¢„É¨„Ç≠„Çµ„É≥„ÉÄ„ÉºË®éÊªÖÊà¶Ôºöcactbot„ÄåÊ¨°ÂÖÉÊñ≠Áµ∂„ÅÆ„Éû„Éº„ÉÅ„Äç„ÇÆ„Éü„ÉÉ„ÇØ",cn:"‰∫öÂéÜÂ±±Â§ßÁªùÂ¢ÉÊàòÔºöcactbotÁÅµÊ≥âËæÖÂä©ÂäüËÉΩ",ko:"Ï†à ÏïåÎ†â: cactbot ÏõúÌôÄ Í≥µÎûµÎ∞©Ïãù ÌôúÏÑ±Ìôî"},type:"checkbox",default:!1},{id:"cactbote8sUptimeKnockbackStrat",name:{en:"e8s: enable cactbot Uptime Knockback strat",de:"e8s: aktiviere cactbot Uptime Knockback Strategie",fr:"e8s : activer cactbot pour Uptime Knockback strat",ja:"„Ç®„Éá„É≥Èõ∂ÂºèÂÖ±È≥¥Á∑®ÔºîÂ±§Ôºöcactbot„Äå„Éò„É¥„É≥„É™„Éº„Çπ„Éà„É©„Ç§„ÇØ („Éé„ÉÉ„ÇØ„Éê„ÉÉ„ÇØ)„Äç„ÇÆ„Éü„ÉÉ„ÇØ",cn:"E8S: ÂêØÁî®cactbotÁöÑÂáªÈÄÄÊèêÁ§∫ÂäüËÉΩ",ko:"Í≥µÎ™Ö ÏòÅÏõÖ 4Ï∏µ: cactbot Ï†ïÌôïÌïú ÌÉÄÏù¥Î∞ç ÎÑâÎ∞±Î∞©ÏßÄ Í≥µÎûµ ÌôúÏÑ±Ìôî"},type:"checkbox",default:!1}]};o.Z.registerOptions("raidboss",x,((e,t,a,n)=>{if(a.Triggers)for(const i of a.Triggers)if(!i.isUserTriggerSet&&(i.filename=`${n}${e}`,i.isUserTriggerSet=!0,i.timelineFile)){const a=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\")),n=`${e.substring(0,a+1)}${i.timelineFile}`;if(delete i.timelineFile,!(n in t)){console.log(`ERROR: '${e}' specifies non-existent timeline file '${n}'.`);continue}i.timeline=[i.timeline,t[n]]}}));class S extends HTMLElement{static get observedAttributes(){return["duration","value","elapsed","hideafter","lefttext","centertext","righttext","width","height","bg","fg","style","toward","loop"]}set bg(e){this.setAttribute("bg",e)}get bg(){return this.getAttribute("bg")}set fg(e){this.setAttribute("fg",e)}get fg(){return this.getAttribute("fg")}set width(e){this.setAttribute("width",e)}get width(){return this.getAttribute("width")}set height(e){this.setAttribute("height",e)}get height(){return this.getAttribute("height")}set duration(e){this.attributeChangedCallback("duration",this.duration,e)}get duration(){return this._duration.toString()}set value(e){this.attributeChangedCallback("value",this.value,e)}get value(){if(!this._start)return this._duration.toString();const e=new Date-this._start;return Math.max(0,this._duration-e/1e3).toString()}set elapsed(e){this.attributeChangedCallback("elapsed",this.elapsed,e)}get elapsed(){return this._start?((new Date-this._start)/1e3).toString():"0"}set toward(e){this.setAttribute("toward",e)}get toward(){return this.getAttribute("toward")}set style(e){this.setAttribute("style",e)}get style(){return this.getAttribute("style")}set hideafter(e){this.setAttribute("hideafter",e)}get hideafter(){return this.getAttribute("hideafter")}set lefttext(e){this.setAttribute("lefttext",e)}get lefttext(){return this.getAttribute("lefttext")}set righttext(e){this.setAttribute("righttext",e)}get righttext(){return this.getAttribute("righttext")}set centertext(e){this.setAttribute("centertext",e)}get centertext(){return this.getAttribute("centertext")}set loop(e){e?this.setAttribute("loop",""):this.removeAttribute("loop")}get loop(){return this.hasAttribute("loop")}constructor(){super();const e=this.attachShadow({mode:"open"});this.init(e)}createdCallback(){const e=this.createShadowRoot();this.init(e)}attachedCallback(){this.connectedCallback()}detachedCallback(){this.disconnectedCallback()}init(e){this._duration=0,this._width="100%",this._height="100%",this._bg="black",this._fg="yellow",this._towardRight=!1,this._styleFill=!1,this._leftText="",this._centerText="",this._rightText="",this._hideAfter=-1,this._loop=!1,e.innerHTML='\n      <style>\n        .timerbar-root {\n          position: relative;\n          border: 1px solid black;\n          box-sizing: border-box;\n        }\n        .timerbar-bg {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          opacity: 0.8;\n        }\n        .timerbar-fg {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          opacity: 1.0;\n          will-change: transform;\n        }\n        .text {\n          position: absolute;\n          font-family: arial;\n          font-weight: bold;\n          color: white;\n          text-shadow: -1px 0 3px black, 0 1px 3px black, 1px 0 3px black, 0 -1px 3px black;\n          will-change: content;\n        }\n        .text-container {\n          position: absolute;\n          left: 0px;\n          top: calc(50% - 1.2ex);\n          width: 100%;\n          height: 100%;\n          overflow: hidden;\n        }\n        .timerbar-lefttext {\n          position: relative;\n          text-align: left;\n          padding: 0px 0.4em 0px 0.4em;\n        }\n        .timerbar-centertext {\n          position: relative;\n          text-align: center;\n          padding: 0px 0.4em 0px 0.4em;\n        }\n        .timerbar-righttext {\n          position: relative;\n          text-align: right;\n          padding: 0px 0.4em 0px 0.4em;\n        }\n\n        :host-context(.skin-lippe) .timerbar-root {\n          border: none;\n        }\n\n        :host-context(.skin-lippe) .timerbar-bg {\n          height: 5px !important;\n          border-radius: 1px;\n          background-color: #312008 !important;\n          border: 1px solid #AA6E03 !important;\n          box-shadow: 0 0 8px 0 #AA6E03;\n          opacity: 1.0;\n          z-index: 0;\n        }\n\n        :host-context(.skin-lippe) .timerbar-fg {\n          height: 5px !important;\n          top: 0px;\n          left: 0px;\n          background-color: rgba(255, 255, 255, 1) !important;\n          box-shadow: 0 0 2px 0 rgba(255, 255, 255, 1) !important;\n          text-align: center;\n          margin: 1px;\n          z-index: 1;\n          opacity: 1.0;\n        }\n\n        :host-context(.skin-lippe) .text {\n          text-shadow:\n            0 0 3px #AA6E03,\n            0 1px 3px #AA6E03,\n            0 -1px 3px #AA6E03;\n        }\n\n        :host-context(.skin-lippe) .text-container {\n          top: 0px;\n          z-index: 2;\n        }\n\n        :host-context(.just-a-number) .timerbar-root {\n          border: none;\n        }\n        :host-context(.just-a-number) .timerbar-bg {\n          display: none;\n        }\n        :host-context(.just-a-number) .timerbar-fg {\n          display: none;\n        }\n        /* Korean better visibility CSS */\n        :host-context(.lang-ko) .text-container {\n          top: calc(50% - 1.5ex);\n          height: calc(100% + 0.3ex);\n        }\n        :host-context(.lang-ko) .timerbar-righttext {\n          top: 0.3ex;\n        }\n      </style>\n      <div id="root" class="timerbar-root">\n        <div id="bg" class="timerbar-bg"></div>\n        <div id="fg" class="timerbar-fg"></div>\n        <div class="text-container"><div id="lefttext" class="text timerbar-lefttext"></div></div>\n        <div class="text-container"><div id="centertext" class="text timerbar-centertext"></div></div>\n        <div class="text-container"><div id="righttext" class="text timerbar-righttext"></div></div>\n      </div>\n    '}connectedCallback(){this.rootElement=this.shadowRoot.getElementById("root"),this.foregroundElement=this.shadowRoot.getElementById("fg"),this.backgroundElement=this.shadowRoot.getElementById("bg"),this.leftTextElement=this.shadowRoot.getElementById("lefttext"),this.centerTextElement=this.shadowRoot.getElementById("centertext"),this.rightTextElement=this.shadowRoot.getElementById("righttext"),this._connected=!0,this.layout(),this.updateText(),this._start?this.advance():this.setvalue(this._duration)}disconnectedCallback(){this._connected=!1}attributeChangedCallback(e,t,a){if("duration"===e)this._duration=Math.max(parseFloat(a),0),this.setvalue(this._duration);else if("value"===e)this.setvalue(Math.max(parseFloat(a),0));else if("elapsed"===e)this.setvalue(this._duration-Math.max(parseFloat(a),0));else if("width"===e)this._width=a,this.layout();else if("height"===e)this._height=a,this.layout();else if("bg"===e)this._bg=a,this.layout();else if("fg"===e)this._fg=a,this.layout();else if("style"===e)this._styleFill="fill"===a,this.layout();else if("toward"===e)this._towardRight="right"===a,this.layout();else if("lefttext"===e){const e=a!==this._leftText&&this._connected;this._leftText=a,e&&this.updateText()}else if("centertext"===e){const e=a!==this._centerText&&this._connected;this._centerText=a,e&&this.updateText()}else if("righttext"===e){const e=a!==this._rightText&&this._connected;this._rightText=a,e&&this.updateText()}else"hideafter"===e?(this._hideAfter=Math.max(parseFloat(this.hideafter),0),"0"===this.value&&(this._hideAfter>=0?this.hide():this.show())):"loop"===e&&(this._loop=null!==a);this._connected&&this.draw()}layout(){this._connected&&(this.backgroundElement.style.backgroundColor=this._bg,this.foregroundElement.style.backgroundColor=this._fg,this.rootElement.style.width=this._width,this.rootElement.style.height=this._height,this._towardRight^this._styleFill?this.foregroundElement.style.transformOrigin="100% 0%":this.foregroundElement.style.transformOrigin="0% 0%")}updateText(){const e=["elapsed","duration","percent","remain"];e.includes(this._leftText)||(this.leftTextElement.innerHTML=this._leftText),e.includes(this._centerText)||(this.centerTextElement.innerHTML=this._centerText),e.includes(this._rightText)||(this.rightTextElement.innerHTML=this._rightText)}draw(){const e=(new Date-this._start)/1e3,t=Math.max(0,this._duration-e);let a=this._duration<=0?0:t/this._duration;a=Math.min(1,Math.max(0,a));const n=t?t.toFixed(1):"",i=e.toFixed(1);this._styleFill&&(a=1-a),this.foregroundElement.style.width=100*a+"%",""!==this._leftText&&("remain"===this._leftText?this.leftTextElement.innerHTML=n:"duration"===this._leftText?this.leftTextElement.innerHTML=n+" / "+this._duration:"percent"===this._leftText?this.leftTextElement.innerHTML=(100*a).toFixed(1)+" %":"elapsed"===this._leftText&&(this.leftTextElement.innerHTML=i)),""!==this._centerText&&("remain"===this._centerText?this.centerTextElement.innerHTML=n:"duration"===this._centerText?this.centerTextElement.innerHTML=n+" / "+this._duration:"percent"===this._centerText?this.centerTextElement.innerHTML=(100*a).toFixed(1)+" %":"elapsed"===this._centerText&&(this.centerTextElement.innerHTML=i)),""!==this._rightText&&("remain"===this._rightText?this.rightTextElement.innerHTML=n:"duration"===this._rightText?this.rightTextElement.innerHTML=n+" / "+this._duration:"percent"===this._rightText?this.rightTextElement.innerHTML=(100*a).toFixed(1)+" %":"elapsed"===this._rightText&&(this.rightTextElement.innerHTML=i))}applyStyles(e){const t=Object.keys(e).map((t=>`${t}:${e[t]};`)).join("");this.shadowRoot.getElementById("lefttext").style.cssText+=t,this.shadowRoot.getElementById("centertext").style.cssText+=t,this.shadowRoot.getElementById("righttext").style.cssText+=t}setvalue(e){const t=Math.max(0,this._duration-e);this._start=new Date-1e3*t,this._connected&&(this.show(),clearTimeout(this._hideTimer),this._hideTimer=null,this.advance())}advance(){const e=(new Date-this._start)/1e3;if(e>=this._duration){if(this._loop&&this._duration>0)return void this.setvalue(this._duration+(this._duration-e)%this._duration);this._duration=0,this._hideAfter>0?this._hideTimer=setTimeout(this.hide.bind(this),1e3*this._hideAfter):0===this._hideAfter&&this.hide(),window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null}else this._animationFrame=window.requestAnimationFrame(this.advance.bind(this));this.draw()}show(){this._connected&&(this.rootElement.style.display="block")}hide(){this._connected&&(this.rootElement.style.display="none")}}window.customElements?window.customElements.define("timer-bar",S):document.registerElement("timer-bar",{prototype:Object.create(S.prototype)});class v{static Check(){return"suspended"===(new AudioContext).state}static Prompt(){const e=document.createElement("button");e.innerText="Click to enable audio",e.classList.add("autoplay-helper-button"),e.onclick=function(){e.remove()},document.body.appendChild(e)}static CheckAndPrompt(){v.Check()&&v.Prompt()}}class C{play(){}}class O extends C{constructor(e,t,a){super(),this.text=e,this.item=new SpeechSynthesisUtterance(e),this.item.lang=t,this.item.voice=a}play(){window.speechSynthesis.speak(this.item)}}class _ extends C{constructor(e,t){super(),this.lang=t,this.text=e;const a=document.createElement("iframe");a.removeAttribute("sandbox"),a.style.display="none",document.body.appendChild(a);const n=encodeURIComponent(e);a.contentDocument.body.innerHTML='<audio src="https://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&tl='+t+"&q="+n+'" id="TTS">',this.item=a.contentDocument.body.firstElementChild}play(){this.item.play()}}class E{constructor(e){this.googleTTSLang="cn"===e?"zh":e;const t={en:"en-US",de:"de-DE",fr:"fr-FR",ja:"ja-JP",cn:"zh-CN",ko:"ko-KR"};void 0!==window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=()=>{const a=t[e],n=window.speechSynthesis.getVoices().find((e=>e.lang===a));n&&(this.speechLang=a,this.speechVoice=n,window.speechSynthesis.onvoiceschanged=null,this.engineType=0)}),this.engineType=1,this.ttsItems={}}play(e){try{void 0!==this.ttsItems[e]?this.ttsItems[e].play():this.playTTS(e)}catch(e){console.log("Exception performing TTS",e)}}playTTS(e){switch(this.engineType){case 0:this.playSpeechTTS(e);break;case 1:this.playGoogleTTS(e)}}playSpeechTTS(e){this.ttsItems[e]=new O(e,this.speechLang,this.speechVoice),this.ttsItems[e].play()}playGoogleTTS(e){this.ttsItems[e]=new _(e,this.googleTTSLang),this.ttsItems[e].play()}}var A=a(829);const w={en:["Instructions as follows:","This is debug text for resizing.","It goes away when you lock the overlay","along with the blue background.","Timelines and triggers will show up in supported zones.","Test raidboss with a /countdown in Summerford Farms."],de:["Anweisungen wie folgt:","Dies ist ein Debug-Text zur Gr√∂√üen√§nderung.","Er verschwindet, wenn du das Overlay sperrst,","zusammen mit dem blauen Hintergrund.","Timeline und Trigger werden in den unterst√ºtzten Zonen angezeigt.","Testen Sie Raidboss mit einem /countdown in Sommerfurt-H√∂fe."],ja:["Êìç‰ΩúÊâãÈ†ÜÔºö","„Éá„Éê„ÉÉ„Ç∞Áî®„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Åß„Åô„ÄÇ","ÈùíËâ≤„ÅÆ„Ç™„Éº„Éê„Éº„É¨„Ç§„Çí","„É≠„ÉÉ„ÇØ„Åô„Çå„Å∞Ê∂à„Åà„Çã„ÄÇ","„Çµ„Éù„Éº„Éà„Åô„Çã„Çæ„Éº„É≥„Å´„Çø„Ç§„É†„É©„Ç§„É≥„Å®„Éà„É™„Ç¨„Éº„ÉÜ„Ç≠„Çπ„Éà„ÅåË°®Á§∫„Åß„Åç„Çã„ÄÇ","„Çµ„Éû„Éº„Éï„Ç©„Éº„ÉâÂ∫Ñ„Å´/countdown„Ç≥„Éû„É≥„Éâ„ÇíÂÆüË°å„Åó„ÄÅraidboss„Çí„ÉÜ„Çπ„Éà„Åß„Åç„Çã„ÄÇ"],cn:["ËØ∑Êåâ‰ª•‰∏ãÊ≠•È™§Êìç‰ΩúÔºö","ËøôÊòØ‰æõÁî®Êà∑Ë∞ÉÊï¥ÊÇ¨ÊµÆÁ™óÂ§ßÂ∞èÁöÑË∞ÉËØïÁî®ÊñáÊú¨","ÂΩì‰Ω†ÈîÅÂÆöÊ≠§ËìùËâ≤ËÉåÊôØÁöÑÊÇ¨ÊµÆÁ™ó","ËØ•ÊñáÊú¨Âç≥‰ºöÊ∂àÂ§±„ÄÇ","Âú®ÊîØÊåÅÁöÑÂå∫Âüü‰∏≠‰ºöËá™Âä®Âä†ËΩΩÊó∂Èó¥ËΩ¥ÂíåËß¶ÂèëÂô®„ÄÇ","ÂèØÂú®ÁõõÂ§èÂÜúÂ∫Ñ‰ΩøÁî®/countdownÂëΩ‰ª§ÊµãËØïËØ•raidbossÊ®°Âùó„ÄÇ"],ko:["<Ï°∞Ïûë ÏÑ§Î™Ö>","ÌÅ¨Í∏∞ Ï°∞Ï†ïÏùÑ ÏúÑÌïú ÎîîÎ≤ÑÍ∑∏ Ï∞ΩÏûÖÎãàÎã§","ÌååÎûÄ Î∞∞Í≤ΩÍ≥º Ïù¥ ÌÖçÏä§Ìä∏Îäî","Ïò§Î≤ÑÎ†àÏù¥Î•º ÏúÑÏπòÏû†Í∏àÌïòÎ©¥ ÏÇ¨ÎùºÏßëÎãàÎã§","ÏßÄÏõêÎêòÎäî Íµ¨Ïó≠ÏóêÏÑú ÌÉÄÏûÑÎùºÏù∏Í≥º Ìä∏Î¶¨Í±∞Í∞Ä ÌëúÏãúÎê©ÎãàÎã§","Ïó¨Î¶ÑÏó¨Ïö∏ ÎÜçÏû•ÏóêÏÑú Ï¥àÏùΩÍ∏∞Î•º Ïã§ÌñâÌïòÏó¨ ÌÖåÏä§Ìä∏ Ìï¥Î≥º Ïàò ÏûàÏäµÎãàÎã§"]};class F{constructor(){this.idToIndex={},this.triggers=[]}push(e){if(e.id&&e.id in this.idToIndex){const t=this.idToIndex[e.id],a=e=>e.filename?`'${e.filename}'`:"user override",n=a(this.triggers[t]),i=a(e);return console.log(`Overriding '${e.id}' from ${n} with ${i}.`),void(this.triggers[t]=e)}e.id&&(this.idToIndex[e.id]=this.triggers.length),this.triggers.push(e)}asList(){return this.triggers}}class j{constructor(e,t,a){return this.trigger=e,this.outputStrings=e.outputStrings||{},this.responseOutputStrings={},this.displayLang=t,this.unknownValue="???",this.overrideStrings={},this.trigger.id&&a&&a[e.id]&&(this.overrideStrings=a[e.id].OutputStrings||{}),new Proxy(this,{set(e,t,a){if("responseOutputStrings"===t)return e[t]=a,!0;console.error(`Invalid property '${t}' on output.`)},get:(e,t)=>"toJSON"===t?"{}":a=>{let n=e.getReplacement(e.overrideStrings[t],a,t);return null===n&&(n=e.getReplacement(e.responseOutputStrings[t],a,t)),null===n&&(n=e.getReplacement(e.outputStrings[t],a,t)),null===n?(console.error(`Trigger ${e.trigger.id} has missing outputString ${t}.`),e.unknownValue):n}})}getReplacement(e,t,a){return e?("object"==typeof e&&(e=this.displayLang in e?e[this.displayLang]:e.en),"string"!=typeof e?(console.error(`Trigger ${this.trigger.id} has invalid outputString ${a}.`),null):e.replace(/\${\s*([^}\s]+)\s*}/g,((a,n)=>{if(t&&n in t){const e=t[n];return"string"!=typeof e&&"number"!=typeof e?(console.error(`Trigger ${this.trigger.id} has non-string param value ${n}.`),this.unknownValue):e}return console.error(`Trigger ${this.trigger.id} can't replace ${n} in ${e}.`),this.unknownValue}))):null}}class L{constructor(e,t,a){this.options=e,this.timelineLoader=t,this.ProcessDataFiles(a),this.triggers=[],this.netTriggers=[],this.timers={},this.currentTriggerID=0,this.inCombat=!1,this.resetWhenOutOfCombat=!0,this.infoText=document.getElementById("popup-text-info"),this.alertText=document.getElementById("popup-text-alert"),this.alarmText=document.getElementById("popup-text-alarm"),this.parserLang=this.options.ParserLanguage||"en",this.displayLang=this.options.AlertsLanguage||this.options.DisplayLanguage||this.options.ParserLanguage||"en",this.options.IsRemoteRaidboss||this.options.BrowserTTS?(this.ttsEngine=new E(this.displayLang),this.ttsSay=function(e){this.ttsEngine.play(e)}):this.ttsSay=function(e){const t={call:"cactbotSay",text:e};window.callOverlayHandler(t)},this.options.AudioAllowed&&v.CheckAndPrompt(),this.partyTracker=new i,this.kMaxRowsOfText=2,this.Reset(),this.AddDebugInstructions(),this.HookOverlays()}AddDebugInstructions(){const e=this.displayLang in w?this.displayLang:"en",t=w[e];for(let e=0;e<t.length;++e){const a=document.getElementById(`instructions-${e}`);if(!a)return;a.innerHTML=t[e]}}HookOverlays(){addOverlayListener("PartyChanged",(e=>{this.partyTracker.onPartyChanged(e)})),function(e,t){if(!t)return;let a=null,i=null;const r=n=>{e&&(n.detail.name=e,i&&(n.detail.job=i)),a=n,t(n)};window.addOverlayListener("onPlayerChangedEvent",r),e&&window.addOverlayListener("PartyChanged",(t=>{const s=t.party.find((t=>t.name===e));if(!s)return;const o=n.Z.jobEnumToJob(s.job);o!==i&&(i=o,a&&r(a))}))}(this.options.PlayerNameOverride,(e=>{this.OnPlayerChange(e)})),addOverlayListener("ChangeZone",(e=>{this.OnChangeZone(e)})),addOverlayListener("onInCombatChangedEvent",(e=>{this.OnInCombatChange(e.detail.inGameCombat)})),addOverlayListener("onLogEvent",(e=>{this.OnLog(e)})),addOverlayListener("LogLine",(e=>{this.OnNetLog(e)}))}OnPlayerChange(e){this.job===e.detail.job&&this.me===e.detail.name||this.OnJobChange(e),this.data.currentHP=e.detail.currentHP}ProcessDataFiles(e){this.triggerSets=[];for(const t in e){if(!t.endsWith(".js"))continue;const a=e[t];"object"==typeof a?"triggers"in a?"object"==typeof a.triggers&&a.triggers.length>=0?(a.filename=t,this.triggerSets.push(a)):console.log("Unexpected JSON from "+t+", expected triggers to be an array"):console.log("Unexpected JSON from "+t+", expected a triggers"):console.log("Unexpected JSON from "+t+", expected an array")}Array.prototype.push.apply(this.triggerSets,this.options.Triggers)}OnChangeZone(e){this.zoneName!==e.zoneName&&(this.zoneName=e.zoneName,this.zoneId=e.zoneID,this.ReloadTimelines())}ReloadTimelines(){if(!(this.triggerSets&&this.me&&this.zoneName&&this.timelineLoader.IsReady()))return;this.Reset(),this.triggers=[],this.netTriggers=[];let e=[],t=[];const a=[],n=[];this.resetWhenOutOfCombat=!0;const i=new F,s=new F,o=new F,l=function(e){if(Array.isArray(e))for(let t=0;t<e.length;++t)l(e[t]);else"function"==typeof e?l(e(this.data)):e&&t.push(e)}.bind(this),d=this.parserLang.charAt(0).toUpperCase()+this.parserLang.slice(1),c="regex"+d,u="netRegex"+d;for(const d of this.triggerSets){const h="zoneRegex"in d,p="zoneId"in d;if(!h&&!p||h&&p)console.error("Trigger set must include exactly one of zoneRegex or zoneId property");else if(p&&void 0===d.zoneId){const e=d.filename?`'${d.filename}'`:"(user file)";console.error(`Trigger set has zoneId, but with nothing specified in ${e}.  Did you misspell the ZoneId.ZoneName?`)}else{if(d.zoneId){if(d.zoneId!==A.Z.MatchAll&&d.zoneId!==this.zoneId&&("object"!=typeof d.zoneId||!d.zoneId.includes(this.zoneId)))continue}else if(d.zoneRegex){let e=d.zoneRegex;if("object"!=typeof e){console.error("zoneRegex must be translatable object or regexp: "+JSON.stringify(d.zoneRegex));continue}if(!(e instanceof RegExp)){if(this.parserLang in e)e=e[this.parserLang];else{if(!("en"in e)){console.error("unknown zoneRegex parser language: "+JSON.stringify(d.zoneRegex));continue}e=e.en}if(!(e instanceof RegExp)){console.error("zoneRegex must be regexp: "+JSON.stringify(d.zoneRegex));continue}}if(this.zoneName.search(r.Z.parse(e))<0)continue}if(this.options.Debug&&(d.filename?console.log("Loading "+d.filename):console.log("Loading user triggers for zone")),d.triggers&&this.options.AlertsEnabled){const e=d.triggers.filter((e=>!("disabled"in e&&e.disabled)));for(const t of e){if(t.filename=d.filename,!t.regex&&!t.netRegex){console.error("Trigger "+t.id+": has no regex property specified");continue}this.ProcessTrigger(t);const e=t[c]||t.regex;e&&(t.localRegex=r.Z.parse(e),i.push(t));const a=t[u]||t.netRegex;a&&(t.localNetRegex=r.Z.parse(a),s.push(t)),e||a||console.error("Trigger "+t.id+": missing regex and netRegex")}}if(d.overrideTimelineFile){const a=d.filename?`'${d.filename}'`:"(user file)";console.log(`Overriding timeline from ${a}.`),e=[],t=[]}if(d.timelineFile)if(d.filename){const t=d.filename.substring(0,d.filename.lastIndexOf("/"));e.push(t+"/"+d.timelineFile)}else console.error("Can't specify timelineFile in non-manifest file:"+d.timelineFile);if(d.timeline&&l(d.timeline),d.timelineReplace&&a.push(...d.timelineReplace),d.timelineTriggers)for(const e of d.timelineTriggers)this.ProcessTrigger(e),o.push(e);d.timelineStyles&&n.push(...d.timelineStyles),void 0!==d.resetWhenOutOfCombat&&(this.resetWhenOutOfCombat&=d.resetWhenOutOfCombat)}}this.triggers=i.asList(),this.netTriggers=s.asList(),this.timelineLoader.SetTimelines(e,t,a,o.asList(),n)}ProcessTrigger(e){e.output=new j(e,this.options.DisplayLanguage,this.options.PerTriggerAutoConfig)}OnJobChange(e){this.me=e.detail.name,this.job=e.detail.job,this.role=n.Z.jobToRole(this.job),this.ReloadTimelines()}OnInCombatChange(e){this.inCombat!==e&&(e||this.resetWhenOutOfCombat)&&this.SetInCombat(e)}SetInCombat(e){this.inCombat!==e&&(this.inCombat=e,this.inCombat||(this.StopTimers(),this.timelineLoader.StopCombat()),this.inCombat&&this.Reset())}ShortNamify(e){if("string"!=typeof e)return console.error("called ShortNamify with non-string"),"???";if(e in this.options.PlayerNicks)return this.options.PlayerNicks[e];const t=e.indexOf(" ");return t<0?e:e.substr(0,t)}Reset(){let e=0;this.data&&this.data.currentHP&&(e=this.data.currentHP),this.data={me:this.me,job:this.job,role:this.role,party:this.partyTracker,lang:this.parserLang,parserLang:this.parserLang,displayLang:this.displayLang,currentHP:e,options:this.options,ShortName:this.ShortNamify,StopCombat:()=>this.SetInCombat(!1),ParseLocaleFloat:parseFloat,CanStun:()=>n.Z.canStun(this.job),CanSilence:()=>n.Z.canSilence(this.job),CanSleep:()=>n.Z.canSleep(this.job),CanCleanse:()=>n.Z.canCleanse(this.job),CanFeint:()=>n.Z.canFeint(this.job),CanAddle:()=>n.Z.canAddle(this.job)},this.StopTimers(),this.triggerSuppress={}}StopTimers(){this.timers={}}OnLog(e){for(const t of e.detail.logs){t.includes("00:0038:cactbot wipe")&&this.SetInCombat(!1);for(const e of this.triggers){const a=t.match(e.localRegex);a&&this.OnTrigger(e,a)}}}OnNetLog(e){const t=e.rawLine;for(const e of this.netTriggers){const a=t.match(e.localNetRegex);a&&this.OnTrigger(e,a)}}OnTrigger(e,t){try{this.OnTriggerInternal(e,t)}catch(t){!function(e,t){let a="Error in trigger: "+(e.id?e.id:"[unknown trigger id]");e.filename&&(a+=" ("+e.filename+")"),console.error(a);const n=t.stack.split("\n");for(let e=0;e<n.length;++e)console.error(n[e])}(e,t)}}OnTriggerInternal(e,t){const a=+new Date;if(this._onTriggerInternalCheckSuppressed(e,a))return;t&&t.groups&&(t=t.groups);const n=this._onTriggerInternalGetHelper(e,t,a);if(!this._onTriggerInternalCondition(n))return;this._onTriggerInternalPreRun(n);const i=this._onTriggerInternalDelaySeconds(n);this._onTriggerInternalDurationSeconds(n),this._onTriggerInternalSuppressSeconds(n);const r=()=>{const e=this._onTriggerInternalPromise(n),t=()=>{this._onTriggerInternalSound(n),this._onTriggerInternalSoundVolume(n),this._onTriggerInternalResponse(n),this._onTriggerInternalAlarmText(n),this._onTriggerInternalAlertText(n),this._onTriggerInternalInfoText(n),this._onTriggerInternalTTS(n),this._onTriggerInternalPlayAudio(n),this._onTriggerInternalRun(n)};e?e.then(t,(()=>{})):t()};i?i.then(r,(()=>{})):r()}_onTriggerInternalGetHelper(e,t,a){const n={trigger:e,now:a,triggerOptions:e.id&&this.options.PerTriggerOptions[e.id]||{},triggerAutoConfig:e.id&&this.options.PerTriggerAutoConfig[e.id]||{},userSuppressedOutput:e.id&&this.options.DisabledTriggers[e.id],matches:t,response:void 0,soundUrl:void 0,soundVol:void 0,triggerSoundVol:void 0,defaultTTSText:void 0,textAlertsEnabled:this.options.TextAlertsEnabled,soundAlertsEnabled:this.options.SoundAlertsEnabled,spokenAlertsEnabled:this.options.SpokenAlertsEnabled,GroupSpokenAlertsEnabled:this.options.GroupSpokenAlertsEnabled,duration:void 0,ttsText:void 0};return n.valueOrFunction=t=>{let a=t;return"function"==typeof a&&(a=a(this.data,n.matches,e.output)),"object"!=typeof a||null===a?a:n.valueOrFunction(a[this.displayLang]||a.en)},this._onTriggerInternalHelperDefaults(n),n}_onTriggerInternalCheckSuppressed(e,t){if(e.id&&e.id in this.triggerSuppress){if(this.triggerSuppress[e.id]>t)return!0;delete this.triggerSuppress[e.id]}return!1}_onTriggerInternalCondition(e){const t=e.triggerOptions.Condition||e.trigger.condition;return!(t&&!t(this.data,e.matches))}_onTriggerInternalHelperDefaults(e){e.triggerAutoConfig&&("TextAlertsEnabled"in e.triggerAutoConfig&&(e.textAlertsEnabled=e.triggerAutoConfig.TextAlertsEnabled),"SoundAlertsEnabled"in e.triggerAutoConfig&&(e.soundAlertsEnabled=e.triggerAutoConfig.SoundAlertsEnabled),"SpokenAlertsEnabled"in e.triggerAutoConfig&&(e.spokenAlertsEnabled=e.triggerAutoConfig.SpokenAlertsEnabled)),e.triggerOptions&&("TextAlert"in e.triggerOptions&&(e.textAlertsEnabled=e.triggerOptions.TextAlert),"SoundAlert"in e.triggerOptions&&(e.soundAlertsEnabled=e.triggerOptions.SoundAlert),"SpeechAlert"in e.triggerOptions&&(e.spokenAlertsEnabled=e.triggerOptions.SpeechAlert),"GroupSpeechAlert"in e.triggerOptions&&(e.groupSpokenAlertsEnabled=e.triggerOptions.GroupSpeechAlert)),e.userSuppressedOutput&&(e.textAlertsEnabled=!1,e.soundAlertsEnabled=!1,e.spokenAlertsEnabled=!1,e.groupSpokenAlertsEnabled=!1),this.options.AudioAllowed||(e.soundAlertsEnabled=!1,e.spokenAlertsEnabled=!1,e.groupSpokenAlertsEnabled=!1)}_onTriggerInternalPreRun(e){"preRun"in e.trigger&&e.trigger.preRun(this.data,e.matches,e.trigger.output)}_onTriggerInternalDelaySeconds(e){const t="delaySeconds"in e.trigger?e.valueOrFunction(e.trigger.delaySeconds):0;if(!t||t<=0)return null;const a=this.currentTriggerID++;return this.timers[a]=!0,new Promise(((e,n)=>{window.setTimeout((()=>{this.timers[a]?e():n&&n(),delete this.timers[a]}),1e3*t)}))}_onTriggerInternalDurationSeconds(e){e.duration={fromConfig:e.triggerAutoConfig.Duration,fromTrigger:e.valueOrFunction(e.trigger.durationSeconds),alarmText:this.options.DisplayAlarmTextForSeconds,alertText:this.options.DisplayAlertTextForSeconds,infoText:this.options.DisplayInfoTextForSeconds}}_onTriggerInternalSuppressSeconds(e){const t="suppressSeconds"in e.trigger?e.valueOrFunction(e.trigger.suppressSeconds):0;e.trigger.id&&t>0&&(this.triggerSuppress[e.trigger.id]=e.now+1e3*t)}_onTriggerInternalPromise(e){let t=null;return"promise"in e.trigger&&("function"==typeof e.trigger.promise?(t=e.trigger.promise(this.data,e.matches,e.trigger.output),Promise.resolve(t)!==t&&(console.error("Trigger "+e.trigger.id+": promise function did not return a promise"),t=null)):console.error("Trigger "+e.trigger.id+": promise defined but not a function")),t}_onTriggerInternalSound(e){e.soundUrl=e.valueOrFunction(e.trigger.sound)}_onTriggerInternalSoundVolume(e){e.triggerSoundVol=e.valueOrFunction(e.trigger.soundVolume)}_onTriggerInternalResponse(e){let t={};const a=e.trigger;if(a.response){for(t=a.response;"function"==typeof t;)t=t(this.data,e.matches,a.output);t||(t={})}e.response=t}_onTriggerInternalAlarmText(e){this._addTextFor("alarm",e)}_onTriggerInternalAlertText(e){this._addTextFor("alert",e)}_onTriggerInternalInfoText(e){this._addTextFor("info",e)}_onTriggerInternalTTS(e){e.groupSpokenAlertsEnabled&&void 0!==e.ttsText||("TTSText"in e.triggerOptions?e.ttsText=e.valueOrFunction(e.triggerOptions.TTSText):"tts"in e.trigger?e.ttsText=e.valueOrFunction(e.trigger.tts):"tts"in e.response?e.ttsText=e.valueOrFunction(e.response.TTSText):e.ttsText=e.defaultTTSText)}_onTriggerInternalPlayAudio(e){if(e.trigger.sound&&e.soundUrl){const t=e.soundUrl+"Sound",a=e.soundUrl+"SoundVolume";t in this.options&&(e.soundUrl=this.options[t],a in this.options&&(e.soundVol=this.options[a]))}if(e.soundUrl=e.triggerOptions.SoundOverride||e.soundUrl,e.soundVol=e.triggerOptions.VolumeOverride||e.triggerSoundVol||e.soundVol,e.ttsText&&e.spokenAlertsEnabled){e.ttsText=e.ttsText.toString(),e.ttsText=e.ttsText.replace(/[#!]/g,""),e.ttsText=e.ttsText.replace("/"," "),e.ttsText=e.ttsText.replace(/~+$/,""),e.ttsText=e.ttsText.replace(/[‚Üñ-‚Üô]/g,""),e.ttsText=e.ttsText.replace("1Î≤àÏß∏","Ï≤´Î≤àÏß∏"),e.ttsText=e.ttsText.replace(/[-=]>\s*$/g,""),e.ttsText=e.ttsText.replace(/^\s*<[-=]/g,"");const t={en:" then ",de:" dann ",fr:" puis ",ja:"„ÇÑ",cn:"ÁÑ∂Âêé",ko:" Í∑∏Î¶¨Í≥† "};e.ttsText=e.ttsText.replace(/\s*(<[-=]|[=-]>)\s*/g,t[this.displayLang]),this.ttsSay(e.ttsText)}else e.soundUrl&&e.soundAlertsEnabled&&this._playAudioFile(e.soundUrl,e.soundVol)}_onTriggerInternalRun(e){"run"in e.trigger&&e.trigger.run(this.data,e.matches,e.trigger.output)}_createTextFor(e,t,a,n){const i=t+"-text";var r;"info"!==t&&(e=(r=e)?"number"==typeof r?r:r.replace(/[^Œ±Œ≤Œ≥Œ¥]/g,(e=>e.toUpperCase())):r);const s=this[a].getElementsByClassName("holder")[0],o=this._makeTextElement(e,i);s.appendChild(o),s.children.length>this.kMaxRowsOfText&&s.removeChild(s.children[0]),window.setTimeout((()=>{s.contains(o)&&s.removeChild(o)}),1e3*n)}_addTextFor(e,t){const a=e[0].toUpperCase()+e.slice(1),n=e+"Text",i=a+"Text",r=t.triggerOptions[i]||t.trigger[n]||t.response[n];if(r){const i=t.valueOrFunction(r);if(t.defaultTTSText=t.defaultTTSText||i,i&&t.textAlertsEnabled){const r=t.duration.fromConfig||t.duration.fromTrigger||t.duration[n];this._createTextFor(i,e,n,r),t.soundUrl||(t.soundUrl=this.options[a+"Sound"],t.soundVol=this.options[a+"SoundVolume"])}}}_makeTextElement(e,t){const a=document.createElement("div");return a.classList.add(t),a.classList.add("animate-text"),a.innerText=e,a}_playAudioFile(e,t){const a=new Audio(e);a.volume=t||1,a.play()}Test(e,t){this.OnPlayerChange({detail:{name:"ME"}}),this.OnChangeZone({zoneName:e}),this.OnLog({detail:{logs:["abcdefgh",t,"hgfedcba"]}})}}class I{constructor(e){this.popupText=e}Info(e){this.popupText.OnTrigger({infoText:e,tts:e})}Alert(e){this.popupText.OnTrigger({alertText:e,tts:e})}Alarm(e){this.popupText.OnTrigger({alarmText:e,tts:e})}TTS(e){this.popupText.OnTrigger({infoText:e,tts:e})}Trigger(e,t){this.popupText.OnTrigger(e,t)}}const P={replaceSync:{"(?<=00:0839:)(.*) will be sealed off(?: in (?:[0-9]+ seconds)?)?":{en:"$1 will be sealed off",de:"Noch 15 Sekunden, bis sich (?:(?:der|die|das) )?(?:Zugang zu(?:[rm]| den)? )?$1 schlie√üt",fr:"Fermeture d(?:e|u|es) $1 dans",ja:"$1„ÅÆÂ∞ÅÈéñ„Åæ„Åß„ÅÇ„Å®",cn:"Ë∑ù$1Ë¢´Â∞ÅÈîÅËøòÊúâ",ko:"15Ï¥à ÌõÑÏóê $1(?:Ïù¥|Í∞Ä) Î¥âÏáÑÎê©ÎãàÎã§"},"is no longer sealed":{en:"is no longer sealed",de:"√∂ffnet sich (?:wieder|erneut)",fr:"Ouverture ",ja:"„ÅÆÂ∞ÅÈéñ„ÅåËß£„Åã„Çå„Åü",cn:"ÁöÑÂ∞ÅÈîÅËß£Èô§‰∫Ü",ko:"Ïùò Î¥âÏáÑÍ∞Ä Ìï¥Ï†úÎêòÏóàÏäµÎãàÎã§"},"Engage!":{en:"Engage!",de:"Start!",fr:"√Ä l'attaque",ja:"Êà¶ÈóòÈñãÂßãÔºÅ",cn:"ÊàòÊñóÂºÄÂßãÔºÅ",ko:"Ï†ÑÌà¨ ÏãúÏûë!"}},replaceText:{"--adds spawn--":{de:"--adds spawn--",fr:"--apparition d'adds--",ja:"--ÈõëÈ≠öÂá∫Áèæ--",cn:"--Â∞èÊÄ™Âá∫Áé∞--",ko:"--Ï´Ñ ÏÜåÌôò--"},"--adds targetable--":{de:"--adds anvisierbar--",fr:"--adds ciblables--",ja:"--ÈõëÈ≠ö„Çø„Éº„Ç≤„ÉÉ„ÉàÂèØËÉΩ--",cn:"--Â∞èÊÄ™ÂèØÈÄâ‰∏≠--",ko:"--Ï´Ñ ÌÉÄÍ≤ü Í∞ÄÎä•--"},"--center--":{de:"--mitte--",fr:"--centre--",ja:"--„Çª„É≥„Çø„Éº--",cn:"--‰∏≠Â§Æ--",ko:"--Ï§ëÏïô--"},"--clones appear--":{de:"--klone erscheinen--",fr:"--apparition des clones--",ja:"--ÂπªÂΩ±Âá∫Áèæ--",cn:"--ÂÖãÈöÜ ‰Ωì Âá∫Áé∞--",ko:"--Î∂ÑÏã† ÏÜåÌôò--"},"--corner--":{de:"--ecke--",fr:"--coin--",ja:"--„Ç≥„Éº„Éä„Éº--",cn:"--ËßíËêΩ--",ko:"--Íµ¨ÏÑù--"},"--dps burn--":{de:"--dps burn--",fr:"--burn dps--",ja:"--ÁÅ´ÂäõÂá∫„Åõ--",cn:"--ËΩ¨ÁÅ´--",ko:"--Îîú Ï≤¥ÌÅ¨--"},"--east--":{de:"--osten--",fr:"--est--",ja:"--Êù±--",cn:"--‰∏ú--",ko:"--ÎèôÏ™Ω--"},Enrage:{de:"Finalangriff",fr:"Enrage",ja:"ÊôÇÈñìÂàá„Çå",cn:"ÁãÇÊö¥",ko:"Ï†ÑÎ©∏Í∏∞"},"--jump--":{de:"--sprung--",fr:"--saut--",ja:"--„Ç∏„É£„É≥„Éó--",cn:"--Ë∑≥--",ko:"--Ï†êÌîÑ--"},"--knockback--":{fr:"--pouss√©e--",ja:"--„Éé„ÉÉ„ÇØ„Éê„ÉÉ„ÇØ--",cn:"--ÂáªÈÄÄ--",ko:"--ÎÑâÎ∞±--"},"--middle--":{de:"--mitte--",fr:"--milieu--",ja:"--‰∏≠Â§Æ--",cn:"--‰∏≠Èó¥--",ko:"--Ï§ëÏïô--"},"--north--":{de:"--norden--",fr:"--nord--",ja:"--Âåó--",cn:"--Âåó--",ko:"--Î∂ÅÏ™Ω--"},"--northeast--":{de:"--nordosten--",fr:"--nord-est--",ja:"--ÂåóÊù±--",cn:"--‰∏úÂåó--",ko:"--Î∂ÅÎèô--"},"--northwest--":{de:"--nordwesten--",fr:"--nord-ouest--",ja:"--ÂåóË•ø--",cn:"--Ë•øÂåó--",ko:"--Î∂ÅÏÑú--"},"--rotate--":{de:"--rotieren--",fr:"--rotation--",ja:"--ÂõûËª¢--",cn:"--ÈæôÂõûËΩ¨--",ko:"--ÌöåÏ†Ñ--"},"--south--":{de:"--s√ºden--",fr:"--sud--",ja:"--Âçó--",cn:"--Âçó--",ko:"--ÎÇ®Ï™Ω--"},"--southeast--":{de:"--s√ºdosten--",fr:"--sud-est--",ja:"--ÂçóÊù±--",cn:"--‰∏úÂçó--",ko:"--ÎÇ®Îèô--"},"--southwest--":{de:"--s√ºdwesten--",fr:"--sud-ouest--",ja:"--ÂçóË•ø--",cn:"--Ë•øÂçó--",ko:"--ÎÇ®ÏÑú--"},"--split--":{de:"--teilen--",fr:"--division--",ja:"--ÂàÜË£Ç--",cn:"--ÂàÜË£Ç--",ko:"--Î∂ÑÏó¥--"},"--stun--":{de:"--Bet√§ubung--",fr:"--√©tourdissement--",ja:"--„Çπ„Çø„É≥--",cn:"--ÂáªÊôï--",ko:"--Í∏∞Ï†à--"},"--sync--":{de:"--synchronisation--",fr:"--synchronisation--",ja:"--„Ç∑„É≥„ÇØ--",cn:"--ÂêåÊ≠•Âåñ--",ko:"--ÎèôÍ∏∞Ìôî--"},"--([0-9]+x )?targetable--":{de:"--$1anvisierbar--",fr:"--$1ciblable--",ja:"--$1„Çø„Éº„Ç≤„ÉÉ„ÉàÂèØËÉΩ--",cn:"--$1ÂèØÈÄâ‰∏≠--",ko:"--$1ÌÉÄÍ≤ü Í∞ÄÎä•--"},"--teleport--":{de:"--teleportation--",fr:"--t√©l√©portation--",ja:"--„ÉÜ„É¨„Éù„Éº„Éà--",cn:"--ÂÇ≥ÈÄÅ--",ko:"--ÏàúÍ∞Ñ Ïù¥Îèô--"},"--untargetable--":{de:"--nich anvisierbar--",fr:"--non ciblable--",ja:"--„Çø„Éº„Ç≤„ÉÉ„Éà‰∏çÂèØ--",cn:"--Êó†Ê≥ïÈÄâ‰∏≠--",ko:"--ÌÉÄÍ≤ü Î∂àÍ∞ÄÎä•--"},"--west--":{de:"--westen--",fr:"--ouest--",ja:"--Ë•ø--",cn:"--Ë•ø--",ko:"--ÏÑúÏ™Ω--"},"(?<= \\(|\\/)E(?=\\)|\\/)":{de:"O",fr:"E",ja:"Êù±",cn:"‰∏ú",ko:"Îèô"},"(?<= \\(|\\/)N(?=\\)|\\/)":{de:"N",fr:"N",ja:"Âåó",cn:"Âåó",ko:"Î∂Å"},"(?<= \\(|\\/)S(?=\\)|\\/)":{de:"S",fr:"S",ja:"Âçó",cn:"Âçó",ko:"ÎÇ®"},"(?<= \\(|\\/)W(?=\\)|\\/)":{de:"W",fr:"O",ja:"Ë•ø",cn:"Ë•ø",ko:"ÏÑú"},"(?<= \\(|\\/)NE(?=\\)|\\/)":{de:"NO",fr:"NE",ja:"ÂåóÊù±",cn:"‰∏úÂåó",ko:"Î∂ÅÎèô"},"(?<= \\(|\\/)NW(?=\\)|\\/)":{de:"NW",fr:"NO",ja:"ÂåóË•ø",cn:"Ë•øÂåó",ko:"Î∂ÅÏÑú"},"(?<= \\(|\\/)SE(?=\\)|\\/)":{de:"SO",fr:"SE",ja:"ÂçóÊù±",cn:"‰∏úÂçó",ko:"ÎÇ®Îèô"},"(?<= \\(|\\/)SW(?=\\)|\\/)":{de:"SW",fr:"SO",ja:"ÂçóË•ø",cn:"Ë•øÂçó",ko:"ÎÇ®ÏÑú"},"(?<= \\(|\\/)Tanks?(?=\\)|\\/)":{de:"Tank",fr:"Tank",ja:"„Çø„É≥„ÇØ",cn:"Âù¶ÂÖã",ko:"ÌÉ±Ïª§"},"(?<= \\(|\\/)Healers?(?=\\)|\\/)":{de:"Heiler",fr:"Healer",ja:"„Éí„Éº„É©„Éº",cn:"Ê≤ªÁñó",ko:"ÌûêÎü¨"},"(?<= \\(|\\/)DPS(?=\\)|\\/)":{de:"DPS",fr:"DPS",ja:"DPS",cn:"DPS",ko:"ÎîúÎü¨"},"--(\\s*\\d+\\s*)--":{de:"--$1--",fr:"--$1--",ja:"--$1--",cn:"--$1--",ko:"--$1--"}}};var R=a(578);const N={},D={};(()=>{const e={countdownStart:{en:"Battle commencing in (?<time>\\y{Float}) seconds! \\((?<player>.*?)\\)",de:"Noch (?<time>\\y{Float}) Sekunden bis Kampfbeginn! \\((?<player>.*?)\\)",fr:"D√©but du combat dans (?<time>\\y{Float}) secondes[ ]?! \\((?<player>.*?)\\)",ja:"Êà¶ÈóòÈñãÂßã„Åæ„Åß(?<time>\\y{Float})ÁßíÔºÅ \\((?<player>.*?)\\)",cn:"Ë∑ùÁ¶ªÊàòÊñóÂºÄÂßãËøòÊúâ(?<time>\\y{Float})ÁßíÔºÅ Ôºà(?<player>.*?)Ôºâ",ko:"Ï†ÑÌà¨ ÏãúÏûë (?<time>\\y{Float})Ï¥à Ï†Ñ! \\((?<player>.*?)\\)"},countdownEngage:{en:"Engage!",de:"Start!",fr:"√Ä l'attaque[ ]?!",ja:"Êà¶ÈóòÈñãÂßãÔºÅ",cn:"ÊàòÊñóÂºÄÂßãÔºÅ",ko:"Ï†ÑÌà¨ ÏãúÏûë!"},countdownCancel:{en:"Countdown canceled by (?<player>\\y{Name})",de:"(?<player>\\y{Name}) hat den Countdown abgebrochen",fr:"Le compte √† rebours a √©t√© interrompu par (?<player>\\y{Name})[ ]?\\.",ja:"(?<player>\\y{Name})„Å´„Çà„Çä„ÄÅÊà¶ÈóòÈñãÂßã„Ç´„Ç¶„É≥„Éà„Åå„Ç≠„É£„É≥„Çª„É´„Åï„Çå„Åæ„Åó„Åü„ÄÇ",cn:"(?<player>\\y{Name})ÂèñÊ∂à‰∫ÜÊàòÊñóÂºÄÂßãÂÄíËÆ°Êó∂„ÄÇ",ko:"(?<player>\\y{Name}) ÎãòÏù¥ Ï¥àÏùΩÍ∏∞Î•º Ï∑®ÏÜåÌñàÏäµÎãàÎã§\\."},areaSeal:{en:"(?<area>.*?) will be sealed off in (?<time>\\y{Float}) seconds!",de:"Noch (?<time>\\y{Float}) Sekunden, bis sich (?<area>.*?) schlie√üt",fr:"Fermeture (?<area>.*?) dans (?<time>\\y{Float}) secondes[ ]?\\.",ja:"(?<area>.*?)„ÅÆÂ∞ÅÈéñ„Åæ„Åß„ÅÇ„Å®(?<time>\\y{Float})Áßí",cn:"Ë∑ù(?<area>.*?)Ë¢´Â∞ÅÈîÅËøòÊúâ(?<time>\\y{Float})Áßí",ko:"(?<time>\\y{Float})Ï¥à ÌõÑÏóê (?<area>.*?)(Ïù¥|Í∞Ä) Î¥âÏáÑÎê©ÎãàÎã§\\."},areaUnseal:{en:"(?<area>.*?) is no longer sealed.",de:"(?<area>.*?) √∂ffnet sich erneut.",fr:"Ouverture (?<area>.*?)[ ]?!",ja:"(?<area>.*?)„ÅÆÂ∞ÅÈéñ„ÅåËß£„Åã„Çå„Åü‚Ä¶‚Ä¶",cn:"(?<area>.*?)ÁöÑÂ∞ÅÈîÅËß£Èô§‰∫Ü",ko:"(?<area>.*?)Ïùò Î¥âÏáÑÍ∞Ä Ìï¥Ï†úÎêòÏóàÏäµÎãàÎã§\\."},craftingStart:{en:"You begin synthesizing (?<count>(an?|\\d+) )?ÓÇª(?<recipe>.*)\\.",de:"Du hast begonnen, durch Synthese (?<count>(ein(e|es|em|er)?|\\d+) )?ÓÇª(?<recipe>.*) herzustellen\\.",fr:"Vous commencez √† fabriquer (?<count>(une?|\\d+) )?ÓÇª(?<recipe>.*)\\.",ja:"(?<player>\\y{Name})„ÅØÓÇª(?<recipe>.*)(√ó(?<count>\\d+))?„ÅÆË£Ω‰Ωú„ÇíÈñãÂßã„Åó„Åü„ÄÇ",cn:"(?<player>\\y{Name})ÂºÄÂßãÂà∂‰Ωú‚ÄúÓÇª(?<recipe>.*)‚Äù(√ó(?<count>\\d+))?„ÄÇ",ko:"ÓÇª(?<recipe>.*)(√ó(?<count>\\d+)Í∞ú)? Ï†úÏûëÏùÑ ÏãúÏûëÌï©ÎãàÎã§\\."},trialCraftingStart:{en:"You begin trial synthesis of ÓÇª(?<recipe>.*)\\.",de:"Du hast mit der Testsynthese von ÓÇª(?<recipe>.*) begonnen\\.",fr:"Vous commencez une synth√®se d'essai pour une? ÓÇª(?<recipe>.*)\\.",ja:"(?<player>\\y{Name})„ÅØÓÇª(?<recipe>.*)„ÅÆË£Ω‰ΩúÁ∑¥Áøí„ÇíÈñãÂßã„Åó„Åü„ÄÇ",cn:"(?<player>\\y{Name})ÂºÄÂßãÁªÉ‰π†Âà∂‰ΩúÓÇª(?<recipe>.*)„ÄÇ",ko:"ÓÇª(?<recipe>.*) Ï†úÏûë Ïó∞ÏäµÏùÑ ÏãúÏûëÌï©ÎãàÎã§\\."},craftingFinish:{en:"You synthesize (?<count>(an?|\\d+) )?ÓÇª(?<recipe>.*)(ÓÄº)?\\.",de:"Du hast erfolgreich (?<count>(ein(e|es|em|er)?|\\d+) )?(?<recipe>.*)(ÓÄº)? hergestellt\\.",fr:"Vous fabriquez (?<count>(une?|\\d+) )?ÓÇª(?<recipe>.*)(ÓÄº)?\\.",ja:"(?<player>\\y{Name})„ÅØÓÇª(?<recipe>.*)(ÓÄº)?(√ó(?<count>\\d+))?„ÇíÂÆåÊàê„Åï„Åõ„ÅüÔºÅ",cn:"(?<player>\\y{Name})Âà∂‰Ωú‚ÄúÓÇª(?<recipe>.*)(ÓÄº)?‚Äù(√ó(?<count>\\d+))?ÊàêÂäüÔºÅ",ko:"(?<player>\\y{Name}) ÎãòÏù¥ ÓÇª(?<recipe>.*)(ÓÄº)?(√ó(?<count>\\d+)Í∞ú)?(ÏùÑ|Î•º) ÏôÑÏÑ±ÌñàÏäµÎãàÎã§!"},trialCraftingFinish:{en:"Your trial synthesis of ÓÇª(?<recipe>.*) proved a success!",de:"Die Testsynthese von ÓÇª(?<recipe>.*) war erfolgreich!",fr:"Votre synth√®se d'essai pour fabriquer ÓÇª(?<recipe>.*) a √©t√© couronn√©e de succ√®s!",ja:"(?<player>\\y{Name})„ÅØÓÇª(?<recipe>.*)„ÅÆË£Ω‰ΩúÁ∑¥Áøí„Å´ÊàêÂäü„Åó„ÅüÔºÅ",cn:"(?<player>\\y{Name})ÁªÉ‰π†Âà∂‰ΩúÓÇª(?<recipe>.*)ÊàêÂäü‰∫ÜÔºÅ",ko:"ÓÇª(?<recipe>.*) Ï†úÏûë Ïó∞ÏäµÏóê ÏÑ±Í≥µÌñàÏäµÎãàÎã§!"},craftingFail:{en:"Your synthesis fails!",de:"Deine Synthese ist fehlgeschlagen!",fr:"La synth√®se √©choue\\.{3}",ja:"(?<player>\\y{Name})„ÅØË£Ω‰Ωú„Å´Â§±Êïó„Åó„Åü‚Ä¶‚Ä¶",cn:"(?<player>\\y{Name})Âà∂‰ΩúÂ§±Ë¥•‰∫Ü‚Ä¶‚Ä¶",ko:"Ï†úÏûëÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§‚Ä¶‚Ä¶\\."},trialCraftingFail:{en:"Your trial synthesis of ÓÇª(?<recipe>.*) failed\\.{3}",de:"Die Testsynthese von ÓÇª(?<recipe>.*) ist fehlgeschlagen\\.{3}",fr:"Votre synth√®se d'essai pour fabriquer ÓÇª(?<recipe>.*) s'est sold√©e par un √©chec\\.{3}",ja:"(?<player>\\y{Name})„ÅØÓÇª(?<recipe>.*)„ÅÆË£Ω‰ΩúÁ∑¥Áøí„Å´Â§±Êïó„Åó„Åü‚Ä¶‚Ä¶",cn:"(?<player>\\y{Name})ÁªÉ‰π†Âà∂‰ΩúÓÇª(?<recipe>.*)Â§±Ë¥•‰∫Ü‚Ä¶‚Ä¶",ko:"ÓÇª(?<recipe>.*) Ï†úÏûë Ïó∞ÏäµÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§‚Ä¶‚Ä¶\\."},craftingCancel:{en:"You cancel the synthesis\\.",de:"Du hast die Synthese abgebrochen\\.",fr:"La synth√®se est annul√©e\\.",ja:"(?<player>\\y{Name})„ÅØË£Ω‰Ωú„Çí‰∏≠Ê≠¢„Åó„Åü„ÄÇ",cn:"(?<player>\\y{Name})‰∏≠Ê≠¢‰∫ÜÂà∂‰Ωú‰Ωú‰∏ö„ÄÇ",ko:"Ï†úÏûëÏùÑ Ï§ëÏßÄÌñàÏäµÎãàÎã§\\."},trialCraftingCancel:{en:"You abandoned trial synthesis\\.",de:"Testsynthese abgebrochen\\.",fr:"Vous avez interrompu la synth√®se d'essai\\.",ja:"(?<player>\\y{Name})„ÅØË£Ω‰ΩúÁ∑¥Áøí„Çí‰∏≠Ê≠¢„Åó„Åü„ÄÇ",cn:"(?<player>\\y{Name})ÂÅúÊ≠¢‰∫ÜÁªÉ‰π†„ÄÇ",ko:"Ï†úÏûë Ïó∞ÏäµÏùÑ Ï§ëÏßÄÌñàÏäµÎãàÎã§\\."}};for(const[t,a]of Object.entries(e)){N[t]={},D[t]={};for(const[e,n]of Object.entries(a))N[t][e]=r.Z.gameLog({line:n+".*?"}),D[t][e]=R.Z.gameLog({line:n+"[^|]*?"})}})();const M={en:["These lines are","debug timeline entries.","If you lock the overlay,","they will disappear!","Real timelines automatically","appear when supported."],de:["Diese Zeilen sind","Timeline Debug-Eintr√§ge.","Wenn du das Overlay sperrst,","werden sie verschwinden!","Echte Timelines erscheinen automatisch,","wenn sie unterst√ºtzt werden."],fr:["Ces lignes sont","des timelines de test.","Si vous bloquez l'overlay,","elles dispara√Ætront !","Les vraies Timelines","appara√Ætront automatiquement."],ja:["„Åì„Å°„Çâ„ÅØ„Éá„Éê„ÉÉ„Ç∞Áî®„ÅÆ","„Çø„Ç§„É†„É©„Ç§„É≥„Åß„Åô„ÄÇ","„Ç™„Éº„Éê„Éº„É¨„Ç§„Çí„É≠„ÉÉ„ÇØ„Åô„Çå„Å∞„ÄÅ","„Éá„Éê„ÉÉ„Ç∞Áî®„ÉÜ„Ç≠„Çπ„Éà„ÇÇÊ∂à„Åà„Çã","„Çµ„Éù„Éº„Éà„Åô„Çã„Çæ„Éº„É≥„Å´„ÅØ„Çø„Ç§„É†","„É©„Ç§„É≥„ÇíÂãïÁöÑ„Å´„É≠„Éº„Éâ„Åô„Çã„ÄÇ"],cn:["ÊòæÁ§∫Âú®Ê≠§Â§ÑÁöÑÊòØ","Ë∞ÉËØïÁî®Êó∂Èó¥ËΩ¥„ÄÇ","Â∞ÜÊ≠§ÊÇ¨ÊµÆÁ™óÈîÅÂÆö","Âàô‰ºöÁ´ãÂàªÊ∂àÂ§±","ÁúüÂÆûÁöÑÊó∂Èó¥ËΩ¥‰ºöÊ†πÊçÆ","ÂΩìÂâçÂå∫ÂüüÂä®ÊÄÅÂä†ËΩΩÂπ∂ÊòæÁ§∫"],ko:["Ïù¥ ÎßâÎåÄÎ∞îÎäî ÎîîÎ≤ÑÍ∑∏Ïö©","ÌÉÄÏûÑÎùºÏù∏ ÏûÖÎãàÎã§.","Ïò§Î≤ÑÎ†àÏù¥Î•º ÏúÑÏπòÏû†Í∏àÌïòÎ©¥,","Ïù¥ ÎßâÎåÄÎ∞îÎèÑ ÏÇ¨ÎùºÏßëÎãàÎã§.","ÏßÄÏõêÎêòÎäî Íµ¨Ïó≠ÏóêÏÑú ÌÉÄÏûÑÎùºÏù∏Ïù¥","ÏûêÎèôÏúºÎ°ú ÌëúÏãúÎê©ÎãàÎã§."]};function B(e,t){const a=document.createElement("div"),n=t.split(".");for(let e=0;e<n.length;++e)a.classList.add(n[e]);e.appendChild(a);const i=window.getComputedStyle(a).backgroundColor;return e.removeChild(a),i}class H{constructor(e,t,a,n,i){this.options=i||{},this.perTriggerAutoConfig=this.options.PerTriggerAutoConfig||{},this.replacements=t,this.ignores={},this.events=[],this.texts=[],this.syncStarts=[],this.syncEnds=[],this.activeSyncs=[],this.activeEvents=[],this.errors=[],this.LoadFile(e,a,n),this.Stop()}GetReplacedHelper(e,t,a,n){if(!this.replacements)return e;for(const n of this.replacements){if(n.locale&&n.locale!==a)continue;if(!n[t])continue;const i=Object.keys(n[t]);for(const a of i)e=e.replace(r.Z.parse(a),n[t][a])}for(const i in P[t]){const s=P[t][i][a];if(!s)continue;const o=n?r.Z.parseGlobal(i):r.Z.parse(i);e=e.replace(o,s)}return e}GetReplacedText(e){if(!this.replacements)return e;const t=this.options.TimelineLanguage||this.options.ParserLanguage||"en";return this.GetReplacedHelper(e,"replaceText",t,!1)}GetReplacedSync(e){if(!this.replacements)return e;const t=this.options.ParserLanguage||"en";return this.GetReplacedHelper(e,"replaceSync",t,!0)}GetMissingTranslationsToIgnore(){return["--Reset--","--sync--","Start","^ ?21:","^(\\(\\?\\<timestamp\\>\\^\\.\\{14\\}\\)) (1B|21|23):","^(\\^\\.\\{14\\})? ?(1B|21|23):","^::\\y{AbilityCode}:$","^\\.\\*$"].map((e=>r.Z.parse(e)))}LoadFile(e,t,a){this.events=[],this.syncStarts=[],this.syncEnds=[];let n=1;const i={},s={comment:/^\s*#/,commentLine:/#.*$/,durationCommand:/(?:[^#]*?\s)?(duration\s+([0-9]+(?:\.[0-9]+)?))(\s.*)?$/,ignore:/^hideall\s+\"([^"]+)\"$/,jumpCommand:/(?:[^#]*?\s)?(jump\s+([0-9]+(?:\.[0-9]+)?))(?:\s.*)?$/,line:/^(([0-9]+(?:\.[0-9]+)?)\s+"(.*?)")(\s+(.*))?/,popupText:/^(info|alert|alarm)text\s+\"([^"]+)\"\s+before\s+(-?[0-9]+(?:\.[0-9]+)?)(?:\s+\"([^"]+)\")?$/,soundAlert:/^define\s+soundalert\s+"[^"]*"\s+"[^"]*"$/,speaker:/define speaker "[^"]*"(\s+"[^"]*")?\s+(-?[0-9]+(?:\.[0-9]+)?)\s+(-?[0-9]+(?:\.[0-9]+)?)/,syncCommand:/(?:[^#]*?\s)?(sync\s*\/(.*)\/)(\s.*)?$/,tts:/^alertall\s+"([^"]*)"\s+before\s+(-?[0-9]+(?:\.[0-9]+)?)\s+(sound|speak\s+"[^"]*")\s+"([^"]*)"$/,windowCommand:/(?:[^#]*?\s)?(window\s+(?:([0-9]+(?:\.[0-9]+)?),)?([0-9]+(?:\.[0-9]+)?))(?:\s.*)?$/};if(t)for(const e of t)e.regex&&(e.regex=r.Z.parse(e.regex));const o=e.split("\n");for(let e=0;e<o.length;++e){const t=e+1;let a=o[e];if(a=a.trim(),!a||s.comment.test(a))continue;const l=a;let d=a.match(s.ignore);if(d){this.ignores[d[1]]=!0;continue}if(d=a.match(s.tts),d){if("sound"===d[3])continue;i[d[1]]=i[d[1]]||[],i[d[1]].push({type:"tts",secondsBefore:parseFloat(d[2]),text:d[4]?d[4]:d[1]});continue}if(d=a.match(s.soundAlert),d)continue;if(d=a.match(s.speaker),d)continue;if(d=a.match(s.popupText),d){i[d[2]]=i[d[2]]||[],i[d[2]].push({type:d[1],secondsBefore:parseFloat(d[3]),text:d[4]?d[4]:d[2]});continue}if(d=a.match(s.line),!d){this.errors.push({lineNumber:t,line:l,error:"Invalid format"}),console.log("Unknown timeline: "+l);continue}a=a.replace(d[1],"").trim(),a=a.replace(s.commentLine,"").trim();const c=parseFloat(d[2]),u={id:n++,time:c,name:d[3],text:this.GetReplacedText(d[3]),activeTime:0,lineNumber:t};if(a){let e=a.match(s.durationCommand);if(e&&(a=a.replace(e[1],"").trim(),u.duration=parseFloat(e[2])),e=a.match(s.syncCommand),e){a=a.replace(e[1],"").trim();const i={id:n,regex:r.Z.parse(this.GetReplacedSync(e[2])),start:c-2.5,end:c+2.5,time:c,lineNumber:t};if(e[3]){let t=e[3].match(s.windowCommand);t&&(a=a.replace(t[1],"").trim(),t[2]?(i.start=c-parseFloat(t[2]),i.end=c+parseFloat(t[3])):(i.start=c-parseFloat(t[3])/2,i.end=c+parseFloat(t[3])/2)),t=e[3].match(s.jumpCommand),t&&(a=a.replace(t[1],"").trim(),i.jump=parseFloat(t[2]))}this.syncStarts.push(i),this.syncEnds.push(i)}}a&&!a.match(s.comment)?(console.log("Unknown content '"+a+"' in timeline: "+l),this.errors.push({lineNumber:t,line:l,error:"Extra text"})):this.events.push(u)}if(t)for(const e of t){let t=!1;for(const a of this.events)if(e.regex&&e.regex.test(a.name)){t=!0;break}if(!t){const t=`No match for timeline trigger ${e.regex} in ${e.id}`;this.errors.push({error:t}),console.error(`*** ERROR: ${t}`)}}for(const e of this.events){if(e.name in i)for(const t of i[e.name]){const a={type:t.type,time:e.time-t.secondsBefore,text:t.text};this.texts.push(a)}if(t)for(const a of t){const t=e.name.match(a.regex);if(!t)continue;const n=(a.id&&this.perTriggerAutoConfig[a.id]||{}).BeforeSeconds||a.beforeSeconds;this.texts.push({type:"trigger",time:e.time-(n||0),trigger:a,matches:t})}if(a)for(const t of a)t.regex.test(e.name)&&Object.assign(e,{style:t.style})}this.events.sort(((e,t)=>e.time===t.time?e.id-t.id:e.time-t.time));for(let e=0;e<this.events.length;++e)this.events[e].sortKey=e;this.texts.sort(((e,t)=>e.time-t.time)),this.syncStarts.sort(((e,t)=>e.start-t.start)),this.syncEnds.sort(((e,t)=>e.end-t.end))}Stop(){this.timebase=null,this.nextEvent=0,this.nextText=0,this.nextSyncStart=0,this.nextSyncEnd=0,this._AdvanceTimeTo(0),this._CollectActiveSyncs(0),this._ClearTimers(),this._CancelUpdate(),this.syncTimeCallback&&this.syncTimeCallback(0,!1)}SyncTo(e){const t=new Date(new Date-1e3*e);Math.abs(t-this.timebase)<=2||(this.timebase=t,this.nextEvent=0,this.nextText=0,this.nextSyncStart=0,this.nextSyncEnd=0,this._AdvanceTimeTo(e),this._CollectActiveSyncs(e),this._AddDurationTimers(e),this._ClearExceptRunningDurationTimers(e),this._AddUpcomingTimers(e),this._CancelUpdate(),this._ScheduleUpdate(e),this.syncTimeCallback&&this.syncTimeCallback(e,!0))}_CollectActiveSyncs(e){this.activeSyncs=[];for(let t=this.nextSyncEnd;t<this.syncEnds.length;++t)this.syncEnds[t].start<=e&&this.activeSyncs.push(this.syncEnds[t])}OnLogLine(e){for(let t=0;t<this.activeSyncs.length;++t){const a=this.activeSyncs[t];if(e.search(a.regex)>=0){"jump"in a?a.jump?this.SyncTo(a.jump):this.Stop():this.SyncTo(a.time);break}}}_AdvanceTimeTo(e){for(;this.nextEvent<this.events.length&&this.events[this.nextEvent].time<=e;)++this.nextEvent;for(;this.nextText<this.texts.length&&this.texts[this.nextText].time<=e;)++this.nextText;for(;this.nextSyncStart<this.syncStarts.length&&this.syncStarts[this.nextSyncStart].start<=e;)++this.nextSyncStart;for(;this.nextSyncEnd<this.syncEnds.length&&this.syncEnds[this.nextSyncEnd].end<=e;)++this.nextSyncEnd}_ClearTimers(){if(this.removeTimerCallback)for(let e=0;e<this.activeEvents.length;++e)this.removeTimerCallback(this.activeEvents[e],!1);this.activeEvents=[]}_ClearExceptRunningDurationTimers(e){const t=[];for(let a=0;a<this.activeEvents.length;++a)this.activeEvents[a].isDur&&this.activeEvents[a].time>e?t.push(this.activeEvents[a]):this.removeTimerCallback&&this.removeTimerCallback(this.activeEvents[a],!1);this.activeEvents=t}_RemoveExpiredTimers(e){for(;this.activeEvents.length&&this.activeEvents[0].time<=e;)this.removeTimerCallback&&this.removeTimerCallback(this.activeEvents[0],!0),this.activeEvents.splice(0,1)}_AddDurationTimers(e){let t=!1;const a=[];for(let n=0;n<this.activeEvents.length;++n){const i=this.activeEvents[n];if(i.time<=e&&i.duration){const r={id:i.id,time:i.time+i.duration,sortKey:i.sortKey,name:i.name,text:"Active: "+i.text,isDur:!0};a.push(r),this.activeEvents.splice(n,1),this.addTimerCallback&&this.addTimerCallback(e,r,!0),t=!0,--n}}a.length&&Array.prototype.push.apply(this.activeEvents,a),this.activeEvents.sort(((e,t)=>e.time-t.time))}_AddUpcomingTimers(e){for(;this.nextEvent<this.events.length&&this.activeEvents.length<this.options.MaxNumberOfTimerBars;){const t=this.events[this.nextEvent];if(t.time-e>this.options.ShowTimerBarsAtSeconds)break;e<t.time&&!(t.name in this.ignores)&&(this.activeEvents.push(t),this.addTimerCallback&&this.addTimerCallback(e,t,!1)),++this.nextEvent}}_AddPassedTexts(e){for(;this.nextText<this.texts.length;){const t=this.texts[this.nextText];if(t.time>e)break;"info"===t.type?this.showInfoTextCallback&&this.showInfoTextCallback(t.text):"alert"===t.type?this.showAlertTextCallback&&this.showAlertTextCallback(t.text):"alarm"===t.type?this.showAlarmTextCallback&&this.showAlarmTextCallback(t.text):"tts"===t.type?this.speakTTSCallback&&this.speakTTSCallback(t.text):"trigger"===t.type&&this.triggerCallback&&this.triggerCallback(t.trigger,t.matches),++this.nextText}}_CancelUpdate(){this.updateTimer&&(window.clearTimeout(this.updateTimer),this.updateTimer=null)}_ScheduleUpdate(e){console.assert(this.timebase,"_ScheduleUpdate called while stopped");const t=1e9;let a=t,n=t,i=t,r=t,s=t;if(this.nextEvent<this.events.length){const t=this.events[this.nextEvent].time;console.assert(a>e,"nextEvent wasn't updated before calling _ScheduleUpdate");const n=t-this.options.ShowTimerBarsAtSeconds;n>e&&(a=n)}this.nextText<this.texts.length&&(n=this.texts[this.nextText].time,console.assert(n>e,"nextText wasn't updated before calling _ScheduleUpdate")),this.activeEvents.length>0&&(i=this.activeEvents[0].time,console.assert(i>e,"Expired activeEvents weren't pruned before calling _ScheduleUpdate")),this.nextSyncStart<this.syncStarts.length&&(r=this.syncStarts[this.nextSyncStart].start,console.assert(r>e,"nextSyncStart wasn't updated before calling _ScheduleUpdate")),this.nextSyncEnd<this.syncEnds.length&&(s=this.syncEnds[this.nextSyncEnd].end,console.assert(s>e,"nextSyncEnd wasn't updated before calling _ScheduleUpdate"));const o=Math.min(a,Math.min(i,Math.min(n,Math.min(r,s))));o!==t&&(console.assert(o>e,"nextTime is in the past"),this.updateTimer=window.setTimeout(this._OnUpdateTimer.bind(this),1e3*(o-e)))}_OnUpdateTimer(){console.assert(this.timebase,"_OnTimerUpdate called while stopped");const e=(new Date-this.timebase)/1e3;this._AddPassedTexts(e,!0),this._AdvanceTimeTo(e),this._CollectActiveSyncs(e),this._AddDurationTimers(e),this._RemoveExpiredTimers(e),this._AddUpcomingTimers(e),this._ScheduleUpdate(e)}SetAddTimer(e){this.addTimerCallback=e}SetRemoveTimer(e){this.removeTimerCallback=e}SetShowInfoText(e){this.showInfoTextCallback=e}SetShowAlertText(e){this.showAlertTextCallback=e}SetShowAlarmText(e){this.showAlarmTextCallback=e}SetSpeakTTS(e){this.speakTTSCallback=e}SetTrigger(e){this.triggerCallback=e}SetSyncTime(e){this.syncTimeCallback=e}}class U{constructor(e){this.options=e,this.init=!1,this.lang=this.options.TimelineLanguage||this.options.ParserLanguage||"en",this.AddDebugInstructions()}Init(){this.init||(this.init=!0,this.root=document.getElementById("timeline-container"),this.root.classList.add("lang-"+this.lang),this.options.Skin&&this.root.classList.add("skin-"+this.options.Skin),this.barColor=B(this.root,"timeline-bar-color"),this.barExpiresSoonColor=B(this.root,"timeline-bar-color.soon"),this.timerlist=document.getElementById("timeline"),this.timerlist.style.gridTemplateRows="repeat("+this.options.MaxNumberOfTimerBars+", 1fr)",this.activeBars={},this.expireTimers={})}AddDebugInstructions(){const e=this.lang in M?this.lang:"en",t=M[e],a=document.getElementById("timeline-resize-helper"),n=Math.max(6,this.options.MaxNumberOfTimerBars);a.style.gridTemplateRows="repeat("+n+", 1fr)";for(let e=0;e<this.options.MaxNumberOfTimerBars;++e){const n=document.createElement("div");n.classList.add("text"),n.classList.add("resize-helper-bar"),n.classList.add("timeline-bar-color"),e<1&&n.classList.add("soon"),e<t.length?n.innerText=t[e]:n.innerText=e+1,a.appendChild(n)}this.debugElement=document.getElementById("timeline-debug"),this.debugElement||(this.debugElement=document.createElement("div"))}SetPopupTextInterface(e){this.popupText=e}SetTimeline(e){if(this.Init(),this.timeline){for(this.timeline.SetAddTimer(null),this.timeline.SetRemoveTimer(null),this.timeline.SetShowInfoText(null),this.timeline.SetShowAlertText(null),this.timeline.SetShowAlarmText(null),this.timeline.SetSpeakTTS(null),this.timeline.SetTrigger(null),this.timeline.SetSyncTime(null);this.timerlist.lastChild;)this.timerlist.removeChild(this.timerlist.lastChild);this.debugElement.innerHTML="",this.debugFightTimer=null,this.activeBars={}}this.timeline=e,this.timeline&&(this.timeline.SetAddTimer(this.OnAddTimer.bind(this)),this.timeline.SetRemoveTimer(this.OnRemoveTimer.bind(this)),this.timeline.SetShowInfoText(this.OnShowInfoText.bind(this)),this.timeline.SetShowAlertText(this.OnShowAlertText.bind(this)),this.timeline.SetShowAlarmText(this.OnShowAlarmText.bind(this)),this.timeline.SetSpeakTTS(this.OnSpeakTTS.bind(this)),this.timeline.SetTrigger(this.OnTrigger.bind(this)),this.timeline.SetSyncTime(this.OnSyncTime.bind(this)))}OnAddTimer(e,t,a){const n=document.createElement("div"),i=document.createElement("timer-bar");if(n.classList.add("timer-bar"),n.appendChild(i),i.duration=a?t.time-e:this.options.ShowTimerBarsAtSeconds,i.value=t.time-e,i.righttext="remain",i.lefttext=t.text,i.toward="right",i.style=a?"empty":"fill",t.style&&i.applyStyles(t.style),!a&&t.time-e>this.options.BarExpiresSoonSeconds?(i.fg=this.barColor,window.setTimeout(this.OnTimerExpiresSoon.bind(this,t.id),1e3*(t.time-e-this.options.BarExpiresSoonSeconds))):i.fg=this.barExpiresSoonColor,this.activeBars[t.id]){const e=this.activeBars[t.id].parentNode;e.parentNode.removeChild(e)}n.style.order=t.sortKey,n.id=t.id,this.timerlist.appendChild(n),this.activeBars[t.id]=i,t.id in this.expireTimers&&(window.clearTimeout(this.expireTimers[t.id]),delete this.expireTimers[t.id])}OnTimerExpiresSoon(e){e in this.activeBars&&(this.activeBars[e].fg=this.barExpiresSoonColor)}OnRemoveTimer(e,t){if(t&&this.options.KeepExpiredTimerBarsForSeconds)return void(this.expireTimers[e.id]=window.setTimeout(this.OnRemoveTimer.bind(this,e,!1),1e3*this.options.KeepExpiredTimerBarsForSeconds));e.id in this.expireTimers&&(window.clearTimeout(this.expireTimers[e.id]),delete this.expireTimers[e.id]);const a=this.activeBars[e.id].parentNode;a.parentNode.removeChild(a),delete this.activeBars[e.id]}OnShowInfoText(e){this.popupText&&this.popupText.Info(e)}OnShowAlertText(e){this.popupText&&this.popupText.Alert(e)}OnShowAlarmText(e){this.popupText&&this.popupText.Alarm(e)}OnSpeakTTS(e){this.popupText&&this.popupText.TTS(e)}OnTrigger(e,t){this.popupText&&this.popupText.Trigger(e,t)}OnSyncTime(e,t){if(this.options.Debug){if(!t)return this.debugFightTimer&&this.debugElement.removeChild(this.debugFightTimer),void delete this.debugFightTimer;this.debugFightTimer||(this.debugFightTimer=document.createElement("timer-bar"),this.debugFightTimer.width="100px",this.debugFightTimer.height="17px",this.debugFightTimer.duration=1e4,this.debugFightTimer.lefttext="elapsed",this.debugFightTimer.toward="right",this.debugFightTimer.style="fill",this.debugFightTimer.bg="transparent",this.debugFightTimer.fg="transparent",this.debugElement.appendChild(this.debugFightTimer)),this.debugFightTimer.elapsed=0,this.debugFightTimer.elapsed=e}}}class ${constructor(e,t,a){this.options=e,this.ui=t,this.timelines={};for(const e in a)e.endsWith(".txt")&&(this.timelines[e]=a[e]);this.suppressNextEngage=!1,this.wipeRegex=r.Z.network6d({command:"40000010"})}SetPopupTextInterface(e){this.ui.SetPopupTextInterface(e)}SetInCombat(e){e||(this.suppressNextEngage=!0),!e&&this.activeTimeline&&this.activeTimeline.Stop()}OnLogEvent(e){if(this.activeTimeline)for(const t of e.detail.logs){if(N.countdownStart[this.options.ParserLanguage].test(t))this.suppressNextEngage=!1;else if(N.countdownEngage[this.options.ParserLanguage].test(t)){if(this.suppressNextEngage)continue}else this.wipeRegex.test(t)&&(this.suppressNextEngage=!0);this.activeTimeline.OnLogLine(t)}}SetActiveTimeline(e,t,a,n,i){this.activeTimeline=null;let r="";for(let t=0;t<e.length;++t){const a=e[t];a in this.timelines?r=r+"\n"+this.timelines[a]:console.log("Timeline file not found: "+a)}for(let e=0;e<t.length;++e)r=r+"\n"+t[e];r&&(this.activeTimeline=new H(r,a,n,i,this.options)),this.ui.SetTimeline(this.activeTimeline)}IsReady(){return null!==this.timelines}}class Z{constructor(e){this.timelineController=e}SetTimelines(e,t,a,n,i){this.timelineController.SetActiveTimeline(e,t,a,n,i)}IsReady(){return this.timelineController.IsReady()}StopCombat(){this.timelineController.SetInCombat(!1)}}o.Z.getUserConfigLocation("raidboss",d,(e=>{const t=new URLSearchParams(window.location.search);if(d.IsRemoteRaidboss=!1,t.get("OVERLAY_WS")){const e=decodeURIComponent(t.get("OVERLAY_WS")),a=e.includes("localhost")||e.includes("127.0.0.1");d.IsRemoteRaidboss=!a}const a=t.get("player");if(a&&(d.PlayerNameOverride=a,console.log("Enabling player name override via query parameter, name: "+a)),d.IsRemoteRaidboss&&null===a){return void function(e){const t={en:"Select a Player\n(the list will update when in an instance)",de:"W√§hle einen Spieler\n(Diese Liste aktualisiert sich, sobald eine Instance betretten wird)",fr:"S√©lectionner un joueur\n (la liste se mettra √† jour dans une instance)",ja:"„Éó„É¨„Éº„É§„ÉºÂêç„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ\n(„Ç§„É≥„Çπ„Çø„É≥„Çπ„Å´ÂÖ•„Çã„Å®„É™„Çπ„Éà„ÅåÊõ¥Êñ∞„Åô„Çã)",cn:"ËØ∑ÈÄâÊã©Áé©ÂÆ∂ÂêçÁß∞\n(Ê≠§ÂàóË°®Â∞Ü‰ºöÂú®ËøõÂÖ•ÂâØÊú¨ÂêéÊõ¥Êñ∞)",ko:"ÌîåÎ†àÏù¥Ïñ¥Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî\n(Ïù∏Ïä§ÌÑ¥Ïä§Ïóê ÏûàÏúºÎ©¥ Î¶¨Ïä§Ìä∏Í∞Ä ÏóÖÎç∞Ïù¥Ìä∏Îê©ÎãàÎã§.)"},a={en:"Force Enable Text To Speech",de:"Erzwinge Text in Sprache (TTS)",fr:"Forcer l'activation de la synth√®se vocale (TTS)",ja:"TTS„ÇíÂº∑Âà∂ÁöÑ„Å´ÊúâÂäπÂåñ„Åô„Çã",cn:"Âº∫Âà∂ÂêØÁî®TTS",ko:"TTS Í∏∞Îä•ÏùÑ ÌôúÏÑ±ÌôîÌïòÍ∏∞"},n={en:"Start Overlay",de:"Start Overlay",fr:"D√©marrer l'Overlay",ja:"„Ç™„Éº„Éê„Éº„É¨„Ç§„ÇíËµ∑Âãï",cn:"ÂêØÁî®ÊÇ¨ÊµÆÁ™ó",ko:"Ïò§Î≤ÑÎ†àÏù¥ ÏãúÏûë"},i={en:"(no override)",de:"(kein √ºberschreiben)",fr:"(pas de d√©rogation)",ja:"(Êó¢ÂÆöÂÄ§)",cn:"(ÈªòËÆ§ÂÄº)",ko:"(ÌîåÎ†àÏù¥Ïñ¥ ÏßÄÏ†ï ÏïàÌï®)"},r="cactbot-last-selected-player",s=document.createElement("div");s.id="player-select",document.body.appendChild(s);const o=document.createElement("div");o.id="player-select-instructions",o.innerHTML=t[e]||t.en,s.appendChild(o);const l=document.createElement("div");l.id="player-select-list",s.appendChild(l);const d=document.createElement("input");d.type="checkbox",d.id="player-select-tts",d.name="player-select-tts",s.appendChild(d);const c=document.createElement("label");c.id="player-select-tts-label",c.htmlFor="player-select-tts",c.innerHTML=a[e]||a.en,s.appendChild(c);const u=document.createElement("button");u.id="player-select-button",u.name="player-select-button",u.innerHTML=n[e]||n.en,s.appendChild(u),u.addEventListener("click",(e=>{const t=document.getElementById("player-select-tts").checked;let a="",n=0;for(;;){n++;const e=document.getElementById("player-radio-"+n);if(!e)break;if(e.checked){a=e.value;break}}var i;a&&(i=a,window.localStorage.setItem(r,i));const s=new URLSearchParams(window.location.search),o={};s.forEach(((e,t)=>o[t]=decodeURIComponent(e))),o.player=a,o.forceTTS=t?1:0;let l="?";for(const[e,t]of Object.entries(o))l+=e+"="+t+"&";window.location.search=l}));const h=window.localStorage.getItem(r),p=t=>{for(;l.firstChild;)l.removeChild(l.lastChild);let a=0;const n=(e,t,n)=>{a++;const i="player-radio-"+a,r=document.createElement("input");r.type="radio",r.value=t,r.id=i,r.name="player-radio",r.classList.add("player-radio",n),l.appendChild(r);const s=document.createElement("label");return s.htmlFor=i,s.innerHTML=e,l.appendChild(s),r};n(i[e]||i.en,"","player-radio-default").checked=!0,h&&(n(h,h,"player-radio-last").checked=!0);const r=t.filter((e=>e.inParty&&e.name!==h)).map((e=>e.name)).sort();for(const e of r)n(e,e,"player-radio-party");const s=t.filter((e=>!e.inParty&&e.name!==h)).map((e=>e.name)).sort();for(const e of s)n(e,e,"player-radio-alliance")};window.addOverlayListener("PartyChanged",(e=>{p(e.party)})),p([])}(d.DisplayLanguage||d.ParserLanguage||"en")}const n=t.get("forceTTS");n&&parseInt(n)&&(d.SpokenAlertsEnabled=!0,console.log("Force enabling TTS via query parameter"));const i=t.get("alerts");if(null!==i){const e=d.AlertsEnabled;d.AlertsEnabled=!!parseInt(i),!e&&d.AlertsEnabled&&console.log("Enabling alerts via query parameter")}const r=t.get("timeline");if(null!==r){const e=d.TimelineEnabled;d.TimelineEnabled=!!parseInt(r),!e&&d.TimelineEnabled&&console.log("Enabling timeline via query parameter")}const s=t.get("audio");if(null!==s){const e=d.AudioAllowed;d.AudioAllowed=!!parseInt(s),!e&&d.AudioAllowed&&console.log("Enabling audio via query parameter")}const o=document.getElementById("container");d.AlertsEnabled||o.classList.add("hide-alerts"),d.TimelineEnabled||o.classList.add("hide-timeline");const c=new U(d),u=new $(d,c,l.Z),h=new Z(u),p=new L(d,h,l.Z);d.AlertsEnabled&&u.SetPopupTextInterface(new I(p)),addOverlayListener("onLogEvent",(e=>{u.OnLogEvent(e)}))}))}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.x=e=>{},__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={766:0},t=[[997,436]],a=e=>{},n=(n,i)=>{for(var r,s,[o,l,d,c]=i,u=0,h=[];u<o.length;u++)s=o[u],__webpack_require__.o(e,s)&&e[s]&&h.push(e[s][0]),e[s]=0;for(r in l)__webpack_require__.o(l,r)&&(__webpack_require__.m[r]=l[r]);for(d&&d(__webpack_require__),n&&n(i);h.length;)h.shift()();return c&&t.push.apply(t,c),a()},i=self.webpackChunkcactbot=self.webpackChunkcactbot||[];function r(){for(var a,n=0;n<t.length;n++){for(var i=t[n],r=!0,s=1;s<i.length;s++){var o=i[s];0!==e[o]&&(r=!1)}r&&(t.splice(n--,1),a=__webpack_require__(__webpack_require__.s=i[0]))}return 0===t.length&&(__webpack_require__.x(),__webpack_require__.x=e=>{}),a}i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i));var s=__webpack_require__.x;__webpack_require__.x=()=>(__webpack_require__.x=s||(e=>{}),(a=r)())})(),__webpack_require__.x()})();